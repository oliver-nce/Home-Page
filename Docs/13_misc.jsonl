{"chunk_id": "13_misc__guides__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides", "title": "Guides", "section_heading": "", "content": "Frappe is a full-stack \"batteries included\" framework. It has libraries and APIs for everything from authentication and scheduled jobs to managing different currencies, reports, as well as building forms.\n\nIn this section we will try and cover the most commonly used API on client and server side that will be useful for app development.\n\n1. [Basics](/framework/v14/user/en/guides/basics/apps)\n2. [App Development](/framework/v14/user/en/guides/app-development/custom_action_link_field)\n3. [Deployment](/framework/v14/user/en/guides/deployment/packages)\n4. [Reports and Printing](/framework/v14/user/en/guides/reports-and-printing/getting-information-from-another-document-in-print-format)\n5. [Portal Development](/framework/v14/user/en/guides/portal-development/)\n6. [Data](/framework/v14/user/en/guides/data/using-data-migration-tool)\n7. [Integration](/framework/v14/user/en/guides/integration/google_gsuite)\n8. [Database Settings](/framework/v14/user/en/guides/database-settings/setup-read-from-secondary-db)\n9. [Automated Testing](/framework/v14/user/en/guides/automated-testing)\n10. [Desk](/framework/v14/user/en/guides/desk)", "content_type": "prose", "has_code": false, "token_count": 282}
{"chunk_id": "13_misc__guides__basics__apps__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/apps", "title": "Apps", "section_heading": "Creating an app", "content": "## Creating an app\n\nFrappe Apps are Python packages which use the Frappe platform. They can live\nanywhere on the [Python\npath](https://docs.python.org/2/tutorial/modules.html#the-module-search-path)\nand must have an entry in the `apps.txt` file.\n\n### Creating an app\n\nFrappe ships with a boiler plate for a new app. The command `bench new-app app-name` helps you start a new app by starting an interactive shell.\n\n% bench new-app sample\\_app\nApp Name: sample\\_app\nApp Title: Sample App\nApp Description: This is a sample app.\nApp Publisher: Acme Inc.\nApp Icon: icon-linux\nApp Color: #6DAFC9\nApp Email: info@example.com\nApp URL: http://example.com\nApp License: MIT\n\nThe above command would create an app with the following directory structure.\n\nsample\\_app\n\u251c\u2500\u2500 license.txt\n\u251c\u2500\u2500 MANIFEST.in\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 sample\\_app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 \\_\\_init\\_\\_.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 sample\\_app\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 \\_\\_init\\_\\_.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 config\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 desktop.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 \\_\\_init\\_\\_.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 hooks.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 modules.txt\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 patches.txt\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 generators\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 \\_\\_init\\_\\_.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 \\_\\_init\\_\\_.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pages\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 \\_\\_init\\_\\_.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 statics\n\u2514\u2500\u2500 setup.py\n\nThe boiler plate contains just enough files to show your app icon on the [Desk].", "content_type": "prose", "has_code": false, "token_count": 313}
{"chunk_id": "13_misc__guides__basics__apps__002", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/apps", "title": "Apps", "section_heading": "`hooks.py`", "content": "## `hooks.py`\n\nThe `hooks.py` file defines the metadata of your app and integration points\nwith other parts of Frappe or Frappe apps. Examples of such parts include task\nscheduling or listening to updates to different documents in the system. For\nnow, it just contains the details you entered during app creation.\n\napp\\_name = \"sample-app\"\napp\\_title = \"Sample App\"\napp\\_publisher = \"Acme Inc.\"\napp\\_description = \"This is a sample app.\"\napp\\_icon = \"fa-linux\"\napp\\_color = \"black\"\napp\\_email = \"info@example.com\"\napp\\_url = \"http://example.com\"\napp\\_version = 0.0.1\n\n### `modules.txt`\n\nModules in Frappe help you organize Documents in Frappe and they are defined in\nthe `modules.txt` file in your app. It is necessary for every [DocType] to be\nattached to a module. By default a module by the name of your app is added.\nAlso, each module gets an icon on the [Desk]. For example, the [ERPNext] app is\norganized in the following modules.\n\naccounts\nbuying\nhome\nhr\nmanufacturing\nprojects\nselling\nsetup\nstock\nsupport\nutilities\ncontacts\n\n### Adding app to a site\n\nOnce you have an app, whether it's the one you just created or any other you\ndownloaded, you are required to do the following things.\n\nDownload the app via git\n\nbench get-app https://github.com/org/app\\_name\n\nInstall the app to your site\n\nbench --site site\\_name install-app app\\_name", "content_type": "prose", "has_code": false, "token_count": 335}
{"chunk_id": "13_misc__guides__basics__contribute_translations__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/contribute_translations", "title": "Contribute Translations", "section_heading": "1. Create a new translation record", "content": "## 1. Create a new translation record\n\nThis document shows how to **Contribute Translations** directly from your frappe app to translate.erpnext.com.\n\n### 1. Create a new translation record\n\n* Go to **Translation** doctype and click on New.\n* Enter the **language**, the **source text** and the **translated text** that you want to contribute and click on save.\n* After saving, a **contribute** button appears on the top right and a **Status** field appears on the button displaying the current status of the record.\n  ![](/files/create_a_new_translation.png)\n\n### 2. Contribute Translation\n\n* Click on the **Contribute** button. A new record with your contributed details will be created on translate.erpnext.com.\n* The status field on the bottom will now display the status as **Contributed**.\n  ![](/files/contribute_translation.png)\n\n### 3. Status of the Contributed Translation\n\n* After contributing the translation to translate.erpnext.com, a member of the Frappe team/community will validate the contributed translation stored at translate.erpnext.com and set the status as **Verified** if the translation is **correct**.\n* The status field in the translation record of the user will reflect this change.\n  ![](/files/verified_translation.png)\n* The translator app installed at translate.erpnext.com will then create a **Pull Request** containing all the **verified translations** that were contributed to translate.erpnext.com. The Translator app will automatically determine the app and the version of the app in which it has to send this PR.\n* When the PR is sent, the status field in the translation record of the user will now be set to **PR sent**.\n  ![](/files/pr_sent_translation.png)\n* Similarly, if the Contributed translation is **not correct**, the member of the Frappe team/community can **delete** the record of the Contributed Translation from translate.erpnext.com.\n* The status field in the translation record of the user will now be set to **Deleted**. The user can make the necessary changes and again contribute this translation.\n  ![](/files/deleted_translation.png)\n\nSee all the **Contributed Translations** from the Frappe community at [translate.erpnext.com](https://translate.erpnext.com).", "content_type": "prose", "has_code": false, "token_count": 555}
{"chunk_id": "13_misc__guides__basics__contribute_translations__002", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/contribute_translations", "title": "Contribute Translations", "section_heading": "4. Become a Verifier for Contributed Translations", "content": "## 4. Become a Verifier for Contributed Translations\n\n* If you want to become a **part of the community** and **verify** the translations contributed by other members of the community, sign-up on [translate.erpnext.com](https://translate.erpnext.com).\n* The verifiers can then set the **status** of the contributed translations to **Verified** if the translations are correct. The translator app after a period of **every 15 days**, will take these verified contributed translations and send **Pull Requests** to respective Frappe repositories.", "content_type": "prose", "has_code": false, "token_count": 136}
{"chunk_id": "13_misc__guides__basics__frappe_ajax_call__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/frappe_ajax_call", "title": "Frappe Ajax Call", "section_heading": "frappe.call Structure", "content": "## frappe.call Structure\n\nIn Frappe Framework, you can manage ajax calls via frappe.call. The frappe.call works in asynchronous manner ie. send requests and handle response via callback mechanism.\n\n### frappe.call Structure\n\n```python\nfrappe.call({\n method: \"\",\n type: \"POST\",\n args: {},\n success: function(r) {},\n error: function(r) {},\n always: function(r) {},\n btn: opts.btn,\n freeze: false,\n freeze_message: \"\",\n async: true,\n url: \"\" || frappe.request.url,\n});\n```\n\n### Parameter description\n\n* `method`: dotted path to a whitelisted backend method\n* `type`: String parameter, http request type \"GET\", \"POST\", \"PUT\", \"DELETE\". Default set to \"POST\".\n* `args`: associative array, arguments that will pass with request.\n* `success`: Function parameter, code snippet, will after successful execution of request\n* `error`: Function parameter, code snippet, will execute after request failure\n* `always`: Function parameter, code snipper, will execute in either case\n* `btn`: Object parameter, triggering object\n* `freeze`: Boolean parameter, if set freeze the instance until it receives response\n* `freeze_message`: String parameter, message will populate to screen while screen is in freeze state.\n* `async`: Boolean parameter, default set to true. So each frappe.call is asynchronous. To make call synchronous set parameter value as false\n* `url`: String parameter, location from where hitting the request", "content_type": "mixed", "has_code": true, "token_count": 352}
{"chunk_id": "13_misc__guides__basics__frappe_ajax_call__002", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/frappe_ajax_call", "title": "Frappe Ajax Call", "section_heading": "Calling standard API", "content": "## Calling standard API\n\n```python\nfrappe.call({\n method: 'frappe.client.get_value',\n args: {\n 'doctype': 'Item',\n 'filters': {'name': item_code},\n 'fieldname': [\n 'item_name',\n 'web_long_description',\n 'description',\n 'image',\n 'thumbnail'\n ]\n },\n callback: function(r) {\n if (!r.exc) {\n // code snippet\n }\n }\n});\n```\n\n* Param description:\n* `doctype`: name of doctype for which you want to pull information\n* `filters`: condition specifier\n* `fieldname`: you can specify fields in array that you want back in response\n\n### Calling whitelisted methods\n\n* On the client side we specify the server side `method` to be called. This is a dotted path through the python modules on the server side, where the last part is the method name.\n\n```python\nfrappe.call({\nmethod: \"frappe.core.doctype.user.user.get_all_roles\", //dotted path to server method\ncallback: function(r) {\n// code snippet\n}\n});\n```\n\n* The above request calls the server-side method `get_all_roles`, located in the file `$MY_BENCH/apps/frappe/frappe/core/doctype/user/user.py`:\n\n```python\n@frappe.whitelist()\ndef get_all_roles():\n// business logic\nreturn value\n```\n\n> **Note**: any server side method that should be accessed via `frappe.call()` needs to be whitelisted, by using the decorator `@frappe.whitelist()`.", "content_type": "mixed", "has_code": true, "token_count": 319}
{"chunk_id": "13_misc__guides__basics__how-to-enable-backup-encryption__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/how-to-enable-backup-encryption", "title": "How To Enable Backup Encryption", "section_heading": "System Requirements", "content": "## System Requirements\n\nFiles created during the backup process can be encrypted using an **Auto-generated key** by checking the **Encrypt Backup** option and the data can be saved under the default or provided location.\n\n### System Requirements\n\nFor MacOS, ensure that [gnupg](https://formulae.brew.sh/formula/gnupg) is installed in the system. Use the following command to install gnupg:\n\n```python\nbrew install gnupg\n```\n\nMost Linux distributions already have GnuPG installed, and the current version will likely use GnuPG 2.0 by default.\n\n### Encrypt Backup option\n\n1. Under Settings tab go to `System settings`.\n2. Inside the `Backups` section check the `Encrypt Backup` checkbox.\n\n![Encrypt Backup option(Enabled)](/files/encrypt-backup.png)\n\nThe system uses an auto-generated key supplied by the **Site config**. If no such key is found, **a new key is generated**. Any Administrator can later look it from the `https://{site}/app/backups` page.\n\nIt encrypts the public and private files as well as the partial backup files.\n\n### Backup Encryption Status\n\n1. Encrypted backups are stored at the same location as the general backups `./sites/{site}/private/backups`.\n2. Encrypted backups can be downloaded from the `https://{site}/app/backups`\n3. Encrypted backups are differentiated using the `key icon`.\n\n![Encrypt Backup option(Enabled)](/files/backup-page.png)\n\n### Backup Encryption Key\n\n1. To get the backup encryption key go to the `./sites/{site}/private/backups`.\n2. Click on the `Get Encrpytion key` and verify your password.\n\n![Encrypt Backup option(Enabled)](/files/backup-encryption-key.png)\n\nCopy the key to restore the encrypted backup files.", "content_type": "mixed", "has_code": true, "token_count": 415}
{"chunk_id": "13_misc__guides__basics__how-to-enable-backup-encryption__002", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/how-to-enable-backup-encryption", "title": "How To Enable Backup Encryption", "section_heading": "Restoring the Encrypted backup files", "content": "## Restoring the Encrypted backup files\n\n1. The `bench restore SQL_FILE_PATH` can be used to restore the files without `--backup-encryption-key` as it is automatically picked from the Site Config.\n2. In case of an unsuccessful restoration due to a wrong key `--backup-encryption-key` can be used to provide the key to restore the files.\n3. Usage:\n\n* For full backup files\n\n```python\nbench --site {site} restore --backup-encryption-key {key} [OPTIONS]\n```\n\n* For partial backup files\n\n```python\nbench --site {site} partial-restore --backup-encryption-key {key} [OPTIONS]\n```", "content_type": "mixed", "has_code": true, "token_count": 143}
{"chunk_id": "13_misc__guides__basics__sites__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/sites", "title": "Sites", "section_heading": "Sites Directory", "content": "## Sites Directory\n\nFrappe is a multitenant platform and each tenant is called a site. Sites exist\nin a directory called `sites`, assumed as the current working directory when\nrunning a frappe command or other services like Celery worker or a WSGI server.\n\nYou can set `sites_dir` with an environment variable `SITES_DIR` or pass\n`--sites_dir` option to the frappe command.\n\nApart from the sites, the `sites_dir` should contain the following.\n\n### apps.txt\n\n`apps.txt` contain a list of Python packages to treat as Frappe apps. Every\nfrappe app that you intend to use in your site should have an entry in this file.\nAlso, they should be in the `PYTHONPATH`. For more information, refer\n[Frappe Apps](/framework/v14/user/en/basics/apps).\n\n### common\\\\_site\\\\_config.json\n\n`common_site_config.json` is an optional file. Configuration common to all sites\ncan be put in this file.\n\n### assets\n\nAssets contain files that are required to be served for the browser client.\nThese generally include \\*.js, \\*.css, \\*.png files. This directory is auto\ngenerated using the `bench build` command.\n\n### languages.txt\n\n`languages.txt` is an autogenerated file which maps every language to it's code.\n\n### Site\n\nA site is a directory in `sites_dir` which represents a tenant in Frappe Platform.", "content_type": "prose", "has_code": false, "token_count": 319}
{"chunk_id": "13_misc__guides__basics__sites__002", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/sites", "title": "Sites", "section_heading": "Directory Structure", "content": "## Directory Structure\n\nsite\n\u251c\u2500\u2500 locks\n\u251c\u2500\u2500 private\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 backups\n\u251c\u2500\u2500 public\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 files\n\u2502 \u2514\u2500\u2500 testfile.txt\n\u2514\u2500\u2500 site\\_config.json\n\n* `locks` directory is used by the scheduler to synchronize various jobs using\n  the [file locking concept](http://en.wikipedia.org/wiki/File_locking).\n* `private` directory contains files that require authentication to access.\n  Presently, it is limited only to backups.\n* `public` directory contains files that can directly served. In the above\n  example, `testfile.txt` can be accessed by the URL,\n  http://site/files/testfile.txt\n* `site_config.json` contains site specific configuration\n\n### Site Config\n\n[See configuration options for `site_config.json`](/framework/v14/user/en/basics/sites#site-config)\n\n### Site Resolution\n\nWhile responding to an HTTP request, a site is automatically selected based on,\n\n* `Host` header in the HTTP request matches a site\n* `X-Frappe-Site-Name` header in the HTTP request matches a site\n\nIt is also possible to force the development server to serve a specific site by\nstarting it with the following command.\n`bench --site SITENAME serve`\n\n### Adding a new site\n\nTo add a new site, execute the following command in your bench instance:\n\n`bench new-site SITENAME`\n\n### Set a site as the current site\n\nTo force a site to be used as the default site, execute the following:\n\n`bench use SITENAME`\n\nTo make sure, check the contents of `currentsite.txt` (found in the `sites` folder of your bench instance) and it should have SITENAME.", "content_type": "prose", "has_code": false, "token_count": 376}
{"chunk_id": "13_misc__guides__basics__translations__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/translations", "title": "Translations", "section_heading": "1. Source", "content": "## 1. Source\n\nThis document shows how translations are managed in ERPNext and how to add\na new language or update translations of an existing language.\n\n### 1. Source\n\nTranslatable text exists in 3 main sources:\n\n1. Javascript Code Files (both framework and application)\n2. Python Code Files\n3. DocTypes (names, labels and select options)\n\n### Strings in Code Files\n\nStrings in code files are annotated using the `_` (underscore) method\n\n1. In Python it is the `frappe._` method. Example:\n\n`frappe._(\"String {0} must be translated\".format(txt))`\n\n2. In Javascript it is the `__` method. Example:\n\n`__(\"String {0} must be translated\", [txt])`\n\n**Note:** If you find translatable strings are not properly annotated using the `_`\nmethod, you can add them in the code and rebuild the translations.\n\n### 2. How Translations Are Picked up During Execution\n\nWhenever a translation is called via the \\_ method, the entire translation\ndictionaries from all apps are built and stored in memcache.\n\nBased on the user preferences or request preferences, the appropriate\ntranslations are loaded at the time of request on the server side. Or if\nmetadata (DocType) is queried, then the appropriate translations are appended\nwhen the DocType data is requested.\n\nThe underscore `_` method will replace the strings based on the available\ntranslations loaded at the time.\n\n### 3. Adding New Translations\n\n1. To find untranslated strings, run `bench get-untranslated [lang] [path]`\n2. Add the translated strings in another file in the same order\n3. run `bench update-translations [lang] [path of untranslated strings] [path of translated strings]`", "content_type": "prose", "has_code": false, "token_count": 406}
{"chunk_id": "13_misc__guides__basics__translations__002", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/guides/basics/translations", "title": "Translations", "section_heading": "4. Improving Translations:", "content": "## 4. Improving Translations:\n\nFor updating translations, please go to the to [the translation portal](https://translate.erpnext.com).\n\nIf you want to do it directly via code:\n\nTo improve an existing translation, just edit the master translation files in\nthe `translations` of each app\n\n---\n\n**NOTE**\n\nYou can read more about contributing to translations [here](/framework/v14/user/en/guides/basics/contribute_translations)\n\n---\n\n> Please contribute your translations back to ERPNext by sending us a Pull\n> Request.\n\n### 5. Bootstrapping a New Language\n\nIf you want to add a new language it is similar to adding new translations. You need to first export all the translations strings in one file, get them translated via Google Translate Tool or Bing Translate Tool and then import the translations into individual apps.\n\n**Step 1: Export to a file**\n\n$ bench get-untranslated [lang] [path]\n\n**Step 2: Translate**\n\nCreate another file with updated translations (in the same order as the source file). For this you can use the [Google Translator Toolkit](https://translate.google.com) or [Bing Translator](http://www.bing.com/translator/).\n\n**Step 3: Import your translations**\n\n$ bench update-translations [lang] [source path] [translated path]\n\n**Step 4: Update `languages.txt`**\n\nAdd your language in `apps/languages.txt` and also `frappe/data/languages.txt` (fore new bench installs)\n\n**Step 5: Commit each app and push**\n\nA new file will be added to the `translations` folder in each app. You need to add that file and push to your repo. Then send us a pull-request.", "content_type": "prose", "has_code": false, "token_count": 392}
{"chunk_id": "13_misc__how_to_contribute__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/how_to_contribute", "title": "How To Contribute", "section_heading": "", "content": "All Pages on the documentation website are stored in the database and can be edited whenever needed.\n\nBroadly the steps to make a change to the documentation is as follows\n\n1. Go to the page on which you want to make changes\n2. At the bottom of the page you will find the `edit` button![](https://docs.erpnext.com/files/dxi8kKH.png)\n3. On clicking the Edit button you should see a UI like this![](https://docs.erpnext.com/files/G5Smp05.png)\n4. Now you can edit the markdown code and check the preview on the `Preview Tab`![](https://docs.erpnext.com/files/YUbNV4D.png)\n5. If you do not want to edit markdown and want to edit via the WYSIWYG Editor click on the switcher and choose Rich-Text ![](https://docs.erpnext.com/files/YUbNV4D.png)\n6. For uploading images:\n7. In Markdown mode\n8. Click on add attachment button to upload an image\n9. Use the copy link button to get the link copied![](https://docs.erpnext.com/files/CJr6HKz.png)\n10. Then paste the link in the editor to display the image\n11. In WYSIWYG editor:\n12. You can either paste a copied image\n13. Drag and drop an image\n14. Use the image button on top of the editor\n15. After editing the file click on the Submit button and wait for your change to get submitted\n16. Once submitted you will see this screen![](https://docs.erpnext.com/files/eClkT1a.jpg)\n17. On this screen you can track all your contributions and wait for a reviewer to review your changes and either approve, reject or request changes\n18. You can click on open contribution to continue your work or use the comment system to communicate with the reviewer\n19. If you want to create a new page instead of editing a page you will find the New Page link at the bottom of the Left Sidebar, the process then is similar to editing\n20. You can also drag and drop sidebars on the edit/ new page to rearrange them(Use this only when necessary)![](https://docs.erpnext.com/files/f2Zhuuo.gif)\n\nHoping to see lots of contributions!", "content_type": "prose", "has_code": false, "token_count": 487}
{"chunk_id": "13_misc__translations__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/translations", "title": "Translations", "section_heading": "How it works", "content": "## How it works\n\nFrappe comes with a built-in translation system for capturing translatable strings\nfrom code and extracting them into CSV files for different languages.\n\n### How it works\n\nTranslations happen in three steps.\n\n### 1. Extracting translatable strings\n\nMany strings like field `label` and `description` that are easily parseable from\nJSON files of DocTypes are automatically marked as translatable without any\nexplicit hint.\n\nOther strings are extracted from source code files such as `.json`, `.js`,\n`.py`. These are extracted only if they are marked explicitly by the author in\n`_()` or `__()` methods.\n\nFor example:\n\n```python\nmessage = _(\"You don't have permissions to access this file\")\n```\n\n### 2. Translating the extracted strings\n\nOnce we have a list of strings that we want to translate, they are put into CSV\nfiles based on the language. Translations are primarily contributed by various\nusers of Frappe and ERPNext on the [translator portal](https://translate.erpnext.com).\n\nThe submitted translations are verified and then converted into a [Pull Request](https://github.com/frappe/frappe/pull/7805/files)\nby a bot every week and merged into the core.", "content_type": "mixed", "has_code": true, "token_count": 293}
{"chunk_id": "13_misc__translations__002", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/translations", "title": "Translations", "section_heading": "3. Translating strings in app", "content": "## 3. Translating strings in app\n\nTranslations are nothing but a key-value pair made of original string and it's\ntranslation in a language. It might look like this:\n\n```python\n{\n \"1 hour ago\": \"\u090f\u0915 \u0918\u0902\u091f\u0947 \u092a\u0939\u0932\u0947\",\n \"1 minute ago\": \"1 \u092e\u093f\u0928\u091f \u092a\u0939\u0932\u0947\",\n \"1 month\": \"1 \u092e\u0939\u0940\u0928\u093e\",\n \"1 week\": \"1 \u0938\u092a\u094d\u0924\u093e\u0939\",\n \"1 year\": \"1 \u0938\u093e\u0932\",\n \"3 months\": \"3 \u092e\u0939\u0940\u0928\u0947\",\n \"6 months\": \"6 \u092e\u0939\u0940\u0928\u0947\",\n \"About\": \"\u0915\u0947 \u092c\u093e\u0930\u0947 \u092e\u0947\u0902\",\n \"About Us Settings\": \"\u0939\u092e\u093e\u0930\u0947 \u092c\u093e\u0930\u0947 \u092e\u0947\u0902 \u0938\u0947\u091f\u093f\u0902\u0917\u094d\u0938\",\n \"About Us Team Member\": \"\u0939\u092e\u093e\u0930\u0947 \u092c\u093e\u0930\u0947 \u092e\u0947\u0902 \u091f\u0940\u092e \u0915\u0947 \u0938\u0926\u0938\u094d\u092f\",\n \"Academic Term\": \"\u0936\u0948\u0915\u094d\u0937\u0923\u093f\u0915 \u0936\u092c\u094d\u0926\",\n \"Academic Year\": \"\u0936\u0948\u0915\u094d\u0937\u0923\u093f\u0915 \u0935\u0930\u094d\u0937\",\n \"Academics User\": \"\u0905\u0915\u093e\u0926\u092e\u093f\u0915 \u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e\",\n ...\n}\n```\n\nWhen the string is written as `__('1 hour ago')` in the code, the `__` method\nlooks up the dictionary to find whether a translation exists for that string. If\nyes, the translated string would be returned and it would show up.\n\nThis was an example of how translations work in JavaScript files, but the same\nworks in Python too.\n\n### Tips on writing a valid translatable string\n\nThere are a few rules that need to be followed for the translation parser to\npick up the strings properly from code.", "content_type": "mixed", "has_code": true, "token_count": 275}
{"chunk_id": "13_misc__translations__003", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/translations", "title": "Translations", "section_heading": "1. Literal strings", "content": "## 1. Literal strings\n\nThe string to be translated must always be a literal string, not a variable or\nexpression.\n\nExample in Python\n\n```python\n# This will work\nmessage = _('Document submitted successfully')\nfrappe.msgprint(message)\n\n# This will also work\nfrappe.msgprint(_('Document submitted successfully'))\n\n# This won't work\nmessage = 'Document submitted successfully'\nfrappe.msgprint(_(message))\n```\n\nExample in JavaScript\n\n```python\n// This will work\nmessage = __('Document submitted successfully')\nfrappe.msgprint(message)\n\n// This won't work\nmessage = 'Document submitted successfully'\nfrappe.msgprint(__(message))\n```\n\n### 2. Variables\n\nIf you have variables in your string, you must use the positional formatter\n`{0}`, any other type of formatter won't work.\n\nExample in Python\n\n```python\n# This is fine\n_('Welcome {0}, get started with ERPNext in just a few clicks.').format(full_name)\n\n# These are not\n_('Welcome %s, get started with ERPNext in just a few clicks.' % full_name)\n\n_('Welcome %(name)s, get started with ERPNext in just a few clicks.' % {'name': full_name})\n\n# This one uses the positional formatter,\n# but won't work because the string is formatted before it is passed to _()\n_('Welcome {0}, get started with ERPNext in just a few clicks.'.format(full_name))\n```\n\nExample in JavaScript\n\n```python\n// This is fine\n__('Welcome {0}, get started with ERPNext in just a few clicks.', [full_name])\n\n// This is not\n__(`Welcome ${full_name}, get started with ERPNext in just a few clicks.`)\n```", "content_type": "mixed", "has_code": true, "token_count": 378}
{"chunk_id": "13_misc__translations__004", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/translations", "title": "Translations", "section_heading": "3. Blocks", "content": "## 3. Blocks\n\nDon't split your string into separate blocks of strings and then concatenate\nthem. Don't write multiline strings. Always write your string in a single even\nif the string is very large.\n\nExample in Python\n\n```python\n# This is fine\n_('You have {0} subscribers in your mailing list.').format(len(subscribers))\n\n# Don't split strings\n_('You have ') + len(subscribers) + _(' subscribers in your mailing list.')\n\n# Don't write multiline strings\n_('You have {0} subscribers \\\n in your mailing list').format(len(subscribers))\n```\n\nExample in JavaScript\n\n```python\n// This is fine\n__('You have {0} subscribers in your mailing list.', [subscribers.length])\n\n// Don't split strings\n__('You have ') + subscribers.length + __(' subscribers in your mailing list.')\n\n// Don't write multiline strings\n__('You have {0} subscribers' +\n 'in your mailing list', [subscribers.length])\n```", "content_type": "mixed", "has_code": true, "token_count": 220}
{"chunk_id": "13_misc__translations__005", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/translations", "title": "Translations", "section_heading": "4. Plural", "content": "## 4. Plural\n\nDon't try to pluralize words using logic. Every language has different plural\nforms.\n\n```python\n# Don't do this\nmsg = _(\"You have {0} pending invoice\").format(invoice_count)\nif invoice_count > 1:\n msg += _(\"s\")\n\n# Write separate strings\n# Every language has different plural forms\nif invoice_count > 1:\n msg = _(\"You have {0} pending invoices\").format(invoice_count)\nelse:\n msg = _(\"You have {0} pending invoice\").format(invoice_count)\n```\n\n### 5. No Trailing Spaces\n\nDon't start or end the sentence with spaces. Trailing spaces gets trimmed for other languages when passed through translation engine.\n\nIf you have to add space around your text, you can do it outside the translation syntax.\n\n```python\n# Don't do this\nmsg = _(\" You have {0} pending invoice \")\n\n# Do this\nmsg = ' ' + _(\"You have {0} pending invoices\") + ' '\n```", "content_type": "mixed", "has_code": true, "token_count": 210}
{"chunk_id": "13_misc__translations__006", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/translations", "title": "Translations", "section_heading": "6. Adding context for a string", "content": "## 6. Adding context for a string\n\nA translatable string can have different meaning in different context.\nFor example, string \"Change\" can mean \"to make or become different\" or \"Coins\".\nSo to tackle this issue `context` variable can be used to set the context for\na string so that it can be translated differently in different\nlanguage using [Translation Tool](https://docs.erpnext.com/docs/user/manual/en/translations).\n\nIn JavaScript\n\n```python\n__(\"Change\", null, \"Coins\")\n\n// Here \"Coins\" is the context for text \"Change\"\n```\n\nIn Python\n\n```python\n_(\"Change\", context=\"Switch\")\n\n# Here \"Switch\" is the context for text \"Change\"\n```\n\n### Adding a New Language\n\nTo add a new language, follow these steps:\n\n### Step 1: Export to a file\n\n```python\n$ bench --site sitename get-untranslated [lang] [path-to-file]\n```\n\n### Step 2: Translate\n\nCreate another file with updated translations (in the same order as the source\nfile). For this you can use the [Google Translator](https://translate.google.com/) or\n[Bing Translator](http://www.bing.com/translator/).\n\n### Step 3: Import your translations\n\n```python\n$ bench update-translations [lang] [source-path] [translated-path]\n```\n\nA new file will be created with the name `[lang].csv` in the `translations`\nfolder in each app.\n\n### Step 4: Update `languages.json`\n\nAdd your language in `frappe/geo/languages.json`\n\n### Step 5: Commit each app and push\n\nCommit your changes with the `.csv` files in each app and push them to their\nrepositories.", "content_type": "mixed", "has_code": true, "token_count": 372}
{"chunk_id": "13_misc__videos__001", "module": "13_misc", "source_url": "https://docs.frappe.io/framework/v15/user/en/videos", "title": "Videos", "section_heading": "", "content": "This 10-part video tutorial will teach you how to build complex apps in Frappe\n\nPre-requisites: [You must have some understanding of Python, Javascript and MySQL before you start this tutorial.](/framework/v14/user/en/prerequisites)\n\n---", "content_type": "prose", "has_code": false, "token_count": 59}
