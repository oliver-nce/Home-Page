{"chunk_id": "02_core_concepts__basics__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics", "title": "Basics", "section_heading": "Meta-data driven", "content": "## Meta-data driven\n\nFrappe is a full stack, batteries-included, web framework written in Python and Javascript.\n\nIt is the framework which powers [ERPNext](https://erpnext.com).\nIt is pretty generic and can be used to build database driven apps.\n\n### Meta-data driven\n\nMeta-data is a first class citizen in Frappe. It is used to generate database tables,\ndesign forms and configure a lot of features. Meta-data is stored in a **Model**\nwhich is known as DocType in Frappe.\n\nLet's take an example of a DocType called **ToDo**. It will contain fields like `status`, `date` and `description`.\n\nHere is what the `todo.json` may look like:\n\n```python\n{\n \"name\": \"ToDo\",\n \"module\": \"Desk\",\n \"field_order\": [\n \"status\",\n \"date\",\n \"description\"\n ],\n \"fields\": [\n {\n \"default\": \"Open\",\n \"fieldname\": \"status\",\n \"fieldtype\": \"Select\",\n \"in_global_search\": 1,\n \"in_list_view\": 1,\n \"in_standard_filter\": 1,\n \"label\": \"Status\",\n \"options\": \"Open\nClosed\"\n },\n {\n \"fieldname\": \"date\",\n \"fieldtype\": \"Date\",\n \"in_standard_filter\": 1,\n \"label\": \"Due Date\"\n },\n {\n \"fieldname\": \"description\",\n \"fieldtype\": \"Text Editor\",\n \"in_global_search\": 1,\n \"label\": \"Description\",\n \"reqd\": 1\n }\n ]\n}\n```\n\nA configuration like this will generate a database table whose schema might look like\n\n```python\nMariaDB [_baa0f26509a564b6]> desc tabToDo;\n+-----------------------+--------------+------+-----+---------+-------+\n| Field | Type | Null | Key | Default | Extra |\n+-----------------------+--------------+------+-----+---------+-------+\n| name | varchar(140) | NO | PRI | NULL | |\n| creation | datetime(6) | YES | | NULL | |\n| modified | datetime(6) | YES | MUL | NULL | |\n| modified_by | varchar(140) | YES | | NULL | |\n| owner | varchar(140) | YES | | NULL | |\n| docstatus | int(1) | NO | | 0 | |\n| idx | int(8) | NO | | 0 | |\n| status | varchar(140) | YES | | Open | |\n| description | longtext | YES | | NULL | |\n| date | date | YES | | NULL | |\n+-----------------------+--------------+------+-----+---------+-------+\n```", "content_type": "mixed", "has_code": true, "token_count": 499}
{"chunk_id": "02_core_concepts__basics__002", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics", "title": "Basics", "section_heading": "Rich Admin Interface", "content": "## Rich Admin Interface\n\nFrappe does not only manage the backend, it also comes with a feature rich admin interface called the Desk.\nWhen you create a DocType in Frappe, a number of views are generated for it. Here are some of them:\n\nThe List View supports paging, filtering, sorting and bulk editing records.\n\n![List View](/files/list-view.png)\n*List View*\n\nThe Form View used for editing records also supports file attachments, PDF format, comments, email, etc.\n\n![Form View](/files/form-view.png)\n*Form View*\n\nThe Report Builder supports adding columns, grouping, filtering, sorting and saving it as a configuration.\n\n![Report Builder](/files/report-builder.png)\n*Report Builder*\n\n### Users, Roles and Permissions\n\nFrappe comes with User and Role management out of the box. A **User** is someone who can\nlogin to the system and perform authorized actions like creating, updating or deleting records.\nA **Role** is a mapping of DocTypes and actions allowed to perform on it.\n\n![Role Permission Manager](/files/permission-manager.png)\n\n### Python, JS and MariaDB\n\nFrappe Framework uses Python for the backend. It comes with a simple yet powerful\nORM as an abstraction over CRUD operations. The default database is MariaDB. Postgres support is in beta.\n\n```python\ndoc = frappe.new_doc('ToDo')\ndoc.description = 'Buy Eggs'\ndoc.insert()\n```\n\nThe front-end is an SPA built using Javascript (jQuery).\n\n### Realtime\n\nFrappe also supports realtime pub/sub events using NodeJS and socketio.\n\n```python\n# server\nfrappe.publish_realtime('update_progress', {\n 'progress': 42,\n 'total': 100\n})\n\n# client\nfrappe.realtime.on('update_progress', (data) => {\n console.log(data)\n});\n```\n\n### Background Jobs\n\nFrappe also supports background job queuing based on Python RQ.\n\n```python\nfrappe.enqueue('frappe.job.run_job', arg1='Test', arg2='Test2')\n```\n\n### Email\n\nFrappe supports sending and receiving emails, which can also be linked to individual documents.\n\n![Email](/files/email.png)\n\n### Printing\n\nFrappe supports generating PDF print formats based on Jinja Templates.\nIt also comes with a drag-and-drop Print Format Builder.\n\n![Print Preview](/files/print-view.png)\n*Print Preview*\n\n![Print Format Builder](/files/print-format-builder.png)\n*Print Format Builder*\n\n### Batteries Included\n\nFrappe has tons of features that are essential to building a modern complex app.\nOnly the basic features are introduced here. The rest of this guide will cover\nthem and other advanced features with much finer detail, so make sure to read it all!", "content_type": "mixed", "has_code": true, "token_count": 630}
{"chunk_id": "02_core_concepts__basics__why__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/why", "title": "Why", "section_heading": "Rapid Application Development", "content": "## Rapid Application Development\n\nFrappe was built to power our flagship product [ERPNext](https://erpnext.com).\nThe core philosophy at Frappe is write as less code as possible. We prefer\nconfiguration over code. If a feature is generic and we need it, we put it right\ninto the framework.\n\nThis has enabled us to build and maintain a complex application like an ERP\nwhich has thousands of features with a small team of developers.\n\n### Rapid Application Development\n\nAfter setting up Frappe Framework, you can be productive in no time. Creating\nmodels, wiring controller code and updating views are all handled by the\nframework.\n\n### Batteries Included\n\nAnything that might be needed by a modern web application is probably built into\nthe framework already. PDF generation, Emails, SMS, Web Pages\nyou name it. If there is something missing in Frappe Framework, we might already\nbe working on it right now :)\n\n### Easy Deployment\n\nBench is the all-in-one tool to manage all things Frappe. It handles app\nupdates, database migrations, generating configs for nginx and supervisor,\nscaffolding new apps and much more.\n\n### Multi Tenant\n\nBench supports multi-tenancy out of the box. It means you can spin up multiple\ninstances of apps with separate databases on the same codebase. It also supports\nport-based multitenancy where you can set up multiple bench environments for\ndifferent versions of apps.\n\n### Extensible architecture\n\nBuild powerful extensions on top of Frappe by creating your own apps. Apps can\nbring their own models or modify existing ones in Frappe.", "content_type": "prose", "has_code": false, "token_count": 391}
{"chunk_id": "02_core_concepts__basics__architecture__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/architecture", "title": "Architecture", "section_heading": "", "content": "Frappe Framework is a full-stack web based framework and it includes all the\ntools needed to deploy a site into production. Database, caching, background\njobs, realtime notifications, etc are all configured when you set up a Frappe\nsite.\n\nFrappe framework is based on Python, so it uses the `virtualenv` to setup\nisolated environments for multiple Python versions. You can also use it to\ndeploy sites with different Frappe versions.\n\nThe following diagram closely resembles the `frappe-bench` directory structure\nand its interface with different parts of the stack.\n\n![Architecture](/files/architecture.png)\n*Architecture*\n\nTo setup a Frappe based site, you need to first install Bench. If you haven't\ninstalled it already, check out the [Installation](/framework/v14/user/en/installation)\npage.\n\nYou can create a new `frappe-bench` setup by running the following command:\n\n```python\nbench init frappe-bench\n```\n\nThis command will do the following:\n\n1. Create a directory called `frappe-bench` and `frappe-bench/sites`, `frappe-bench/apps` within it.\n2. Setup a python virtual environment under `frappe-bench/env`.\n3. Create a `frappe-bench/config` folder to store redis configuration files.\n4. Download `frappe` app and `pip install` it.\n5. Install node packages.\n6. Build JS/CSS assets.\n\nEach `frappe-bench` setup spawns it owns web, redis and node processes.", "content_type": "mixed", "has_code": true, "token_count": 340}
{"chunk_id": "02_core_concepts__basics__directory-structure__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/directory-structure", "title": "Directory Structure", "section_heading": "apps", "content": "## apps\n\nWhen you initialize a new **frappe-bench** directory, you will have a directory\nstructure similar to:\n\n```python\n.\n\u251c\u2500\u2500 apps\n \u251c\u2500\u2500 frappe\n\u251c\u2500\u2500 config\n \u251c\u2500\u2500 redis_cache.conf\n \u251c\u2500\u2500 redis_queue.conf\n \u2514\u2500\u2500 redis_socketio.conf\n\u251c\u2500\u2500 env\n\u251c\u2500\u2500 logs\n\u251c\u2500\u2500 Procfile\n\u2514\u2500\u2500 sites\n \u251c\u2500\u2500 apps.txt\n \u251c\u2500\u2500 assets\n \u251c\u2500\u2500 common_site_config.json\n \u2514\u2500\u2500 site1.local\n \u251c\u2500\u2500 private\n \u251c\u2500\u2500 public\n \u2514\u2500\u2500 site_config.json\n```\n\n### apps\n\nThe `frappe` app and other frappe based apps live in this directory. When you\nrun the command `bench new-app app_name`, the app will be bootstrapped in this\ndirectory. Your custom apps live here and you are supposed to edit/work with\nthem here.\n\nLearn more about [apps](/framework/v14/user/en/basics/apps).\n\n### sites\n\nSites are served from this directory. When you run the command `bench new-site site_name`, the site will be created in this directory. Sites are distinguished\nbased on their directory name.\n\nLearn more about [sites](/framework/v14/user/en/guides/basics/sites).\n\n### logs\n\nThis directory is used to dump log files from various processes. Each log file\nis named based on the process it is logged from.\n\n### config\n\nFrappe uses 3 Redis instances to manage caching, job queueing and socketio\ncommunication. All of those configurations live here.\n\n### env\n\nThe Python virtual environment live in this directory. Frappe based apps and\nPython package dependencies are installed here.", "content_type": "mixed", "has_code": true, "token_count": 348}
{"chunk_id": "02_core_concepts__basics__directory-structure__002", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/directory-structure", "title": "Directory Structure", "section_heading": "Procfile", "content": "## Procfile\n\nFrappe uses Procfile based process management. The default Procfile looks\nsomething like this:\n\n```python\nredis_cache: redis-server config/redis_cache.conf\nredis_socketio: redis-server config/redis_socketio.conf\nredis_queue: redis-server config/redis_queue.conf\nweb: bench serve --port 8000\n\nsocketio: /usr/bin/node apps/frappe/socketio.js\n\nwatch: bench watch\n\nschedule: bench schedule\nworker_short: bench worker --queue short --quiet\nworker_long: bench worker --queue long --quiet\nworker_default: bench worker --queue default --quiet\n```\n\nLet's see what each process is used for.\n\n### `redis_cache:`\n\nRedis used for in-memory caching.\n\n### `redis_socketio:`\n\nRedis used as a pub/sub between `web` and `socketio` processes for realtime communication.\n\n### `redis_queue:`\n\nRedis used for managing background jobs queuing.\n\n### `web:`\n\nPython web server based on [Werkzeug](https://palletsprojects.com/p/werkzeug/).\n\n### `socketio:`\n\nNode server for a socketio connection with the browser for realtime communication.\n\n### `watch:`\n\nNode server for bundling JS/CSS assets using [Rollup](https://rollupjs.org).\nIt will also rebuild files as they change.\n\n### `schedule:`\n\nJob Scheduler using Python RQ.\n\n### `worker_short:`\n\nPython worker with a (short) timeout of 300s.\n\n### `worker_long:`\n\nPython worker with a (long) timeout of 1500s.\n\n### `worker_default:`\n\nPython worker with a timeout of 300s.", "content_type": "mixed", "has_code": true, "token_count": 352}
{"chunk_id": "02_core_concepts__basics__apps__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/apps", "title": "Apps", "section_heading": "Creating an App", "content": "## Creating an App\n\nA Frappe app is a python package that uses the Frappe framework. Frappe apps live\nin a directory called `apps` in the `frappe-bench` directory.\n\nThe default app `frappe` is a frappe app which acts as the framework for all\napps. A Frappe app should have an entry in `apps.txt`.\n\n### Creating an App\n\nFrappe ships with a boilerplate for a new app. To create a new app, run the\nfollowing command from the `frappe-bench` directory.\n\n```python\n$ bench new-app custom_app\nINFO:bench.app:creating new app custom_app\nApp Title (default: Custom App):\nApp Description: Custom Frappe App\nApp Publisher: John Doe\nApp Email: custom@johndoe.com\nApp Icon (default 'octicon octicon-file-directory'):\nApp Color (default 'grey'):\nApp License (default 'MIT'):\n'custom_app' created at /Users/johndoe/frappe-bench/apps/custom_app\nINFO:bench.app:installing custom_app\nINFO:bench.utils:./env/bin/pip install -q -e ./apps/custom_app\n```\n\nThe `custom_app` directory will now be created in the `apps` directory. It will\nalso be added to `apps.txt`.", "content_type": "mixed", "has_code": true, "token_count": 260}
{"chunk_id": "02_core_concepts__basics__apps__002", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/apps", "title": "Apps", "section_heading": "Directory structure", "content": "## Directory structure\n\nThe directory structure of the app will look something like this:\n\n```python\napps/custom_app\n\u251c\u2500\u2500 MANIFEST.in\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 custom_app\n\u2502 \u251c\u2500\u2500 __init__.py\n\u2502 \u251c\u2500\u2500 config\n\u2502 \u2502 \u251c\u2500\u2500 __init__.py\n\u2502 \u2502 \u251c\u2500\u2500 desktop.py\n\u2502 \u2502 \u2514\u2500\u2500 docs.py\n\u2502 \u251c\u2500\u2500 custom_app\n\u2502 \u2502 \u2514\u2500\u2500 __init__.py\n\u2502 \u251c\u2500\u2500 hooks.py\n\u2502 \u251c\u2500\u2500 modules.txt\n\u2502 \u251c\u2500\u2500 patches.txt\n\u2502 \u251c\u2500\u2500 public\n\u2502 \u2502 \u251c\u2500\u2500 css\n\u2502 \u2502 \u2514\u2500\u2500 js\n\u2502 \u251c\u2500\u2500 templates\n\u2502 \u2502 \u251c\u2500\u2500 __init__.py\n\u2502 \u2502 \u2514\u2500\u2500 includes\n\u2502 \u2514\u2500\u2500 www\n\u251c\u2500\u2500 custom_app.egg-info\n\u2502 \u251c\u2500\u2500 PKG-INFO\n\u2502 \u251c\u2500\u2500 SOURCES.txt\n\u2502 \u251c\u2500\u2500 dependency_links.txt\n\u2502 \u251c\u2500\u2500 not-zip-safe\n\u2502 \u251c\u2500\u2500 requires.txt\n\u2502 \u2514\u2500\u2500 top_level.txt\n\u251c\u2500\u2500 license.txt\n\u251c\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 dev-requirements.txt\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 setup.py\n```\n\n### requirements.txt\n\nThis file stores the list of python dependencies. When this app is installed,\nit's dependencies will also get installed.\n\n### dev-requirements.txt [Optional]\n\nThis file stores the list of python development dependencies. Syntax of this\nfile is same as requirements.txt. If developer mode is enabled, then\ninstalling the app will also install its development dependencies.\n\n### package.json\n\nThis file is used to keep track of node dependencies. Learn more about it\n[here](https://docs.npmjs.com/files/package.json).\n\n### custom\\_app\n\nThis is the directory where the source files are stored.\n\n### custom\\\\_app/custom\\_app\n\nWhen you create a new app, a module with the same name is also created within\nthe app. This is the directory which corresponds to that module.\n\n### custom\\_app/hooks.py\n\nThis file is used to hook into frappe events and extend or override standard\nbehaviour by frappe.\n\nLearn more about [hooks](/framework/v14/user/en/python-api/hooks).\n\n### custom\\_app/modules.txt\n\nEvery frappe app is organized into different modules. Every DocType is part of a\nmodule. These modules are listed in this file.\n\nLearn more about [modules](/framework/v14/user/en/basics/doctypes/modules).\n\n### custom\\_app/patches.txt\n\nThis file is used to store references to patches that run in database migrations.\nThese patches are run in order, and they are run only once.\n\nLearn more about [Database Migrations](/framework/v14/user/en/database-migrations#data-migrations).\n\n### custom\\_app/public\n\nThe public folder is a static folder and can be served by nginx in production.\nFiles put here can be accessed via the url `/assets/custom_app/**/*`.\n\nFor example, the file `public/img/logo.png` is accessible via the url\n`/assets/custom_app/img/logo.png`.\n\nThis folder is used to store static assets used directly in the client side like\nJS, CSS and Images.\n\n### custom\\_app/templates\n\nThe templates folder is used to write and manage Jinja Templates. They can be\norganized in any way you want. This directory is directly scanned when you use\nthem in Jinja templates.\n\nFor example, when you include a partial `{% include \"templates/navbar/navbar.html\" %}`,\nit will first scan this directory and then fallback to other apps.\n\n### custom\\_app/www\n\nFiles in this directory are directly mapped to portal pages and the URLs match the\ndirectory structure.\n\nLearn more about [portal pages](/framework/v14/user/en/portal-pages).", "content_type": "mixed", "has_code": true, "token_count": 776}
{"chunk_id": "02_core_concepts__basics__apps__003", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/apps", "title": "Apps", "section_heading": "Installing an app into a site", "content": "## Installing an app into a site\n\nTo use an app, it must be installed on a site. Installing an app on a site means\ncreating the models that are bundled with the app into the site, which means\ncreating database tables in the site database.\n\nTo install an app onto a site, run the following command:\n\n```python\n$ bench --site site_name install-app custom_app\n\nInstalling custom_app...\n```\n\nTo check whether the app was installed correctly, run the following command:\n\n```python\n$ bench --site site_name list-apps\nfrappe\ncustom_app\n```", "content_type": "mixed", "has_code": true, "token_count": 133}
{"chunk_id": "02_core_concepts__basics__sites__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/sites", "title": "Sites", "section_heading": "Sites Directory", "content": "## Sites Directory\n\nFrappe is a multitenant platform and each tenant is called a site. A site has\nits own database. Sites exist in a directory called `sites`, assumed as the\ncurrent working directory when running a bench command.\n\n### Sites Directory\n\nThe sites directory `frappe-bench/sites` is where all the sites for this bench\nlive. It also contains some other files and directories which are explained next.\n\n### apps.txt\n\nThis file contains a list of Frappe apps. An app should be listed here before it\ncan be installed on a site. It is added automatically when `bench get-app`\ncommand or `bench new-app` command is run.\n\n### common\\\\_site\\\\_config.json\n\nConfiguration common to all sites can be put in this file. Learn more about\n[site configuration](/framework/v14/user/en/basics/site_config).\n\n### assets\n\nAssets contain files that are required to be served for the client browser.\nThese generally include \\*.js, \\*.css, and image files. This directory is auto\ngenerated using the `bench build` command. This directory is served by Nginx in\nproduction.\n\n### Creating a new site\n\nTo create a new site, run the following command from the `frappe-bench` directory:\n\n```python\n$ bench new-site mysite.local\n\nInstalling frappe...\nUpdating DocTypes for frappe : [========================================]\nUpdating country info : [========================================]\n*** Scheduler is disabled ***\n```\n\nThe `mysite.local` directory will now be created in the `sites` directory.\n\n### Directory Structure\n\n```python\nsites/mysite.local\n\u251c\u2500\u2500 locks\n\u251c\u2500\u2500 private\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 backups\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 files\n\u251c\u2500\u2500 public\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 files\n\u251c\u2500\u2500 site_config.json\n\u2514\u2500\u2500 task-logs\n```\n\n### locks\n\nThis directory is used by the scheduler to synchronize various jobs using\nthe [file locking concept](http://en.wikipedia.org/wiki/File_locking).\n\n### private\n\nThis directory contains files that require authentication to access. It contains\nprivate files and backups. They can be accessed by the URL:\n`/private/files/private-file.png`.\n\n### public\n\nThis directory contains publicly accessible files. They can be accessed by the\nURL: `/files/public-file.png`.\n\n### site\\_config.json\n\nThis file contains site specific configuration.", "content_type": "mixed", "has_code": true, "token_count": 549}
{"chunk_id": "02_core_concepts__basics__sites__002", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/sites", "title": "Sites", "section_heading": "Site Config", "content": "## Site Config\n\nA file named `site_config.json` exists in every site directory and is used to\nstore site specific configuration. The values are available in `frappe.conf`\nlocal variable as a dict.\n\nExample `site_config.json`:\n\n```python\n{\n \"db_name\": \"test_frappe\",\n \"db_password\": \"test_frappe\",\n \"admin_password\": \"admin\",\n}\n```\n\nTo learn more about managing Site or Bench level configurations, checkout [this comprehensive document](/framework/v14/user/en/basics/site_config).\n\n### Site Resolution\n\nWhile responding to an HTTP request, a site is automatically selected based on,\n\n* `Host` header in the HTTP request matches a site\n* `X-Frappe-Site-Name` header in the HTTP request matches a site\n\nIt is also possible to force the development server to serve a specific site by\nstarting it with the following command:\n\n```python\nbench --site mysite.local serve\n```\n\n### Set a site as the current site\n\nTo force a site to be used as the default site, run the following command:\n\n```python\nbench use mysite.local\n```\n\nAfter running this command, site specific commands can be run without the\n`--site` parameter.\n\nFor example, instead of running:\n\n```python\nbench --site mysite.local migrate\n```\n\nYou can just run:\n\n```python\nbench migrate\n```", "content_type": "mixed", "has_code": true, "token_count": 310}
{"chunk_id": "02_core_concepts__basics__doctypes__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/doctypes", "title": "Doctypes", "section_heading": "Introduction", "content": "## Introduction\n\n1. [Introduction](#doctype)\n2. [Modules](doctypes/modules)\n3. [DocField](doctypes/docfield)\n4. [Naming](doctypes/naming)\n5. [Controllers](doctypes/controllers)\n\n* [Controller Methods](doctypes/controllers#controller-methods)\n* [Controller Hooks](doctypes/controllers#controller-hooks)\n\n1. [Child DocType](doctypes/child-doctype)\n2. [Single DocType](doctypes/single-doctype)\n3. [Virtual DocType](doctypes/virtual-doctype)\n4. [Actions and Links](doctypes/actions-and-links)\n5. [Customizing DocTypes](doctypes/customize)\n\n### Introduction\n\nA DocType is the core building block of any application based on the Frappe Framework.\nIt describes the **Model** and the **View** of your data.\nIt contains what fields are stored for your data, and how they behave with respect to each other.\nIt contains information about how your data is named.\nIt also enables rich **Object Relational Mapper (ORM)** pattern which we will discuss later in this guide.\nWhen you create a DocType, a JSON object is created which in turn creates a database table.\n\n> ORM is just an easy way to read, write and update data in a database without writing explicit SQL statements.", "content_type": "prose", "has_code": false, "token_count": 290}
{"chunk_id": "02_core_concepts__basics__doctypes__002", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/doctypes", "title": "Doctypes", "section_heading": "Conventions", "content": "## Conventions\n\nTo enable rapid application development, Frappe Framework follows some standard conventions.\n\n1. DocType is always singular. If you want to store a list of articles in the\n   database, you should name the doctype **Article**.\n2. Table names are prefixed with `tab`. So the table name for **Article** doctype\n   is `tabArticle`.\n\nThe standard way to create a DocType is by typing *new doctype* in the search bar in the **Desk**.\n\n![ToDo DocType](/files/todo-doctype.png)\n*ToDo DocType*\n\nA DocType not only stores fields, but also other information about how your data\nbehaves in the system. We call this **Meta**. Since this meta-data is also stored\nin a database table, it makes it easy to change meta-data on the fly without writing\nmuch code. Learn more about [Meta](#meta).\n\n> A DocType is also a DocType. This means that we store meta-data as the part of the data.\n\nAfter creating a DocType, Frappe can provide many features out-of-the-box.\nIf you go to `/app/todo` you will be routed to the List View in the desk.\n\n![ToDo List](/files/list-view.png)\n*ToDo List*\n\nSimilarly, you get a Form View at the route `/app/todo/000001`.\nThe Form is used to create new docs and view them.\n\n![ToDo Form](/files/form-view.png)\n*ToDo Form*", "content_type": "prose", "has_code": false, "token_count": 311}
{"chunk_id": "02_core_concepts__basics__users-and-permissions__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/users-and-permissions", "title": "Users And Permissions", "section_heading": "User and Role", "content": "## User and Role\n\nFrappe comes with a user authentication system. It handles user accounts, role\nbased permissions and cookie based user sessions.\n\nUser authentication system in Frappe comes with a lot of features out of the\nbox:\n\n1. User\n2. Role\n3. DocType Permissions\n4. Permission Level\n5. Role Permission Manager\n6. User Permissions\n7. Restricting Views and Forms\n8. Password Hashing\n9. Password strength checking\n10. Throttling of login attempts\n11. Third party authentication like OAuth, Google, Facebook, etc\n\n### User and Role\n\nA User record represents an authenticated user who can perform authorized\nactions in the system. A User can have multiple roles assigned to it. A Role\ndescribes what actions a User can perform on a DocType.\n\n![User Roles](/files/user-roles.png)\n*User Roles*\n\nFor example, the role **Blogger** has read, write and create permission on the\ndoctype **Blog Post**, but only read permission on **Blog Category**.\n\n![Role Blogger](/files/role-blogger.png)\n*Role Blogger*", "content_type": "prose", "has_code": false, "token_count": 250}
{"chunk_id": "02_core_concepts__basics__users-and-permissions__002", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/users-and-permissions", "title": "Users And Permissions", "section_heading": "DocType Permissions", "content": "## DocType Permissions\n\nDocTypes can have a default set of Roles applied when you install your app. To\nconfigure roles for a DocType you must add them in the Permissions table in\nDocType.\n\n![DocType Permissions](/files/doctype-permissions.png)\n*DocType Permissions*\n\nIf you expand the row, you will see many more options that can be configured.\n![DocType Permissions Row](/files/doctype-permissions-detail.png)\n*DocType Permissions*\n\nHere is a list of them with their explanation:\n\n| Option | Explanation |\n| --- | --- |\n| Level | [Permission Level](#permission-level) assigned to this role |\n| If the user is owner | The restrictions will apply only if the user is the one who created that document |\n| Read | Allow read access to the document |\n| Write | Allow edit access to the document |\n| Create | Allow create access to the document |\n| Delete | Allow user to delete the document |\n| Submit | Allow user to submit the document |\n| Cancel | Allow user to cancel the document |\n| Amend | Allow user to amend the document |\n| Report | Allow user to view the report view |\n| Export | Allow user to export records in Excel/CSV |\n| Import | Allow user to import records using the Data Import Tool |\n| Set User Permissions | Allow user to apply user permissions for other users |\n| Share | Allow user to share the document with other users |\n| Print | Allow user to print the document or generate PDF |\n| Email | Allow user to send emails for that document |\n\n### Permission Level\n\nPermission Levels can be used to group fields in a document and apply separate\nroles to each level. By default all fields have permlevel set as 0.\n\n![Permission Level](/files/permission-level.png)\n*Permission Level*\n\n### Role Permissions Manager\n\nRole Permissions Manager is a user tool to manage role permissions. The default\nset of permissions show up here and can be overridden.\n\n![Role Permissions Manager](/files/role-permissions-manager.gif)", "content_type": "prose", "has_code": false, "token_count": 482}
{"chunk_id": "02_core_concepts__basics__users-and-permissions__003", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/users-and-permissions", "title": "Users And Permissions", "section_heading": "User Permissions", "content": "## User Permissions\n\nUser Permissions are another set of rules that can be applied per user basis. It\ncan be used to restrict documents which contain a specific value for a Link\nfield.\n\nFor example, to restrict the User John such that he can only view **Blog Post**s\nthat were created by him, i.e, Blogger **John**. A user permission record with\nthe following values should be created.\n\n![User Permissions Example](/files/user-permissions-example-1.png)\n*User Permission Record*\n\nAfter creating the user permission configuration, when the User logs in to see\nthe Blog Post list, he will have a restricted view of blog posts that were\ncreated by him.\n\n![Restricted Blog Post List](/files/user-permissions-example-2.png)\n*Restricted Blog Post List*\n\n### Restricting Views and Forms\n\nFrappe Framework allows you to configure what modules, doctypes and views are\nvisible to the user. To configure which modules are shown to a user go to the\n**Allow Modules** section of the User form.\n\n![Allow Modules in User](/files/allow-modules-in-user.png)\n\nTo hide a doctype from a User, remove the read permission from a Role using the\n[Role Permissions Manager](#role-permissions-manager).\n\nTo control permissions for Pages and Reports, use the **Role Permission for Page\nand Report** tool.\n\n![Role Permission for Page and Report](/files/role-permission-for-page-and-report.png)", "content_type": "prose", "has_code": false, "token_count": 341}
{"chunk_id": "02_core_concepts__basics__users-and-permissions__004", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/users-and-permissions", "title": "Users And Permissions", "section_heading": "Password Hashing", "content": "## Password Hashing\n\nFrappe handles password hashing out of the box. They are encrypted and saved in\na separate database table named `__Auth`.\n\n```python\nMariaDB [_baa0f26509a564b6]> select * from __Auth;\n+---------+------------------+-----------+-----------------------------------------------\n| doctype | name | fieldname | password\n+---------+------------------+-----------+-----------------------------------------------\n| User | Administrator | password | $pbkdf2-sha256$29000$Xss5pxSC8F5rDSHEOEdo7Q$in\n| User | test@erpnext.com | password | $pbkdf2-sha256$29000$y7mXMoZQau09RwiBsLaWsg$h.\n+---------+------------------+-----------+-----------------------------------------------\n```\n\n### Password Policy\n\nFrappe also supports password strength checking. It can be enabled from **System\nSettings** in the Security section. The Minimum Password Score field validates how\nstrong the password should be.\n\n![Password Policy](/files/password-policy.png)\n*Password Policy*\n\n### Login Attempts\n\nFrappe allows you to configure how many consecutive login attempts should be\nallowed before locking the account for a set time period.\n\n![Login Attempts](/files/login-attempts.png)\n\n### Third Party Authentication\n\nFrappe supports third party login providers. To setup a login provider you need\nto setup a **Social Login Key**. Learn more about it [here](/framework/v14/user/en/guides/integration/social_login_key).", "content_type": "mixed", "has_code": true, "token_count": 351}
{"chunk_id": "02_core_concepts__basics__asset-bundling__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/asset-bundling", "title": "Asset Bundling", "section_heading": "Building assets", "content": "## Building assets\n\nA guide to understanding how static asset bundling works in Frappe Framework.\n\nFrappe ships with a Rich Admin UI accessible at `/app` which is an SPA written\nin modern JavaScript syntax and styling which is written in SASS (`.scss`)\nfiles. These files are not directly understandable by the browser and hence need\nto be compiled before they are sent to the browser to parse and execute.\n\nFrappe ships with an asset bundler that can compile client side assets like:\n\n* `.js` (Modern syntax with `import` and `export`)\n* `.ts` (TypeScript files)\n* `.vue` (Vue single file components)\n* `.css` (CSS processed using PostCSS)\n* `.scss` (SASS files)\n* `.sass` (SASS files with indentation syntax)\n* `.styl` (Stylus files)\n* `.less` (Less files)\n\nThese files are compiled to `.js` or `.css` depending on the type and are sent\nto the browser.\n\n### Building assets\n\nTo compile assets using the asset bundler, you run the following command from\nthe `frappe-bench` folder:\n\n```python\n$ bench build\n```\n\nYou can also run it for specific apps by giving it the `--apps` option.\n\n```python\n# build only frappe assets\n$ bench build --apps frappe\n\n# build only frappe and erpnext assets\n$ bench build --apps frappe,erpnext\n```", "content_type": "mixed", "has_code": true, "token_count": 307}
{"chunk_id": "02_core_concepts__basics__asset-bundling__002", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/asset-bundling", "title": "Asset Bundling", "section_heading": "Watch mode", "content": "## Watch mode\n\nWhen you are working with bundled files you need the build command to run every\ntime you make a change to your source files. The asset bundler comes with a\nwatch mode where it will listen to changes in the file system and rebuild\nwhenever a file changes.\n\nRunning the following command will start a long-running process that watches\nyour files and rebuilds them as they change. It will log a line with the text\n\"Compiled changes...\" every time it does a rebuild.\n\n```python\n$ bench watch\nWatching for changes...\n1:17:28 PM: Compiled changes...\n```\n\nYou can also run it for specific apps by giving it the `--apps` option.\n\n```python\n# watch only erpnext assets\n$ bench watch --apps erpnext\n```\n\nStarting with Version 14, [Desk](/framework/v14/user/en/desk) will be automatically reloaded if assets get rebuilt in watch mode. This behavior can be toggled by setting the `LIVE_RELOAD` environment variable, or changing the value for `live_reload` in [`common_site_config.json`](/framework/v14/user/en/basics/site_config#common-site-config).", "content_type": "mixed", "has_code": true, "token_count": 263}
{"chunk_id": "02_core_concepts__basics__asset-bundling__003", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/asset-bundling", "title": "Asset Bundling", "section_heading": "Bundle files", "content": "## Bundle files\n\nA bundle file is an entry point of an asset that is picked up by the bundler for\ncompilation. For e.g., if there is a file named `main.bundle.js` in the public\nfolder of your app it will be automatically picked up by the bundler and\ncompiled at `/assets/[app]/dist/js/main.bundle.[hash].js`. A unique hash\ncomputed from the contents of the output is also appended to the file name which\nis useful for cache-busting in browsers.\n\nSimilarly, if there is a file named `style.bundle.scss` in the public folder, it\nwill be compiled to `/assets/[app]/dist/css/style.bundle.css`. Notice, the\nextension changed from `.scss` to `.css` because browsers can understand CSS\nfiles but not SASS files. Bundle files can exist at any nesting level in the\n`public` folder, but they will always be compiled in either `dist/js` or\n`dist/css` depending upon their type. This means if there is a file at\n`public/main.bundle.js` and another file at `public/src/main.bundle.js` the\ncompiled output of the latter will override. The bundler will also print a\nwarning for such collisions.\n\nSome more examples of bundle inputs and their outputs:\n\n| Input | Output |\n| --- | --- |\n| `[app]/public/main.bundle.js` | `/assets/dist/[app]/js/main.bundle.[hash].js` |\n| `[app]/public/src/main.bundle.js` | `/assets/dist/[app]/js/main.bundle.[hash].js` |\n| `[app]/public/src/utils/utils.bundle.js` | `/assets/dist/[app]/js/utils.bundle.[hash].js` |\n| `[app]/public/main.bundle.ts` | `/assets/dist/[app]/js/main.bundle.[hash].js` |\n| `[app]/public/main.bundle.css` | `/assets/dist/[app]/css/main.bundle.[hash].css` |\n| `[app]/public/styles/main.bundle.css` | `/assets/dist/[app]/css/main.bundle.[hash].css` |\n| `[app]/public/main.bundle.scss` | `/assets/dist/[app]/css/main.bundle.[hash].css` |\n| `[app]/public/main.bundle.sass` | `/assets/dist/[app]/css/main.bundle.[hash].css` |\n| `[app]/public/main.bundle.styl` | `/assets/dist/[app]/css/main.bundle.[hash].css` |\n| `[app]/public/main.bundle.less` | `/assets/dist/[app]/css/main.bundle.[hash].css` |", "content_type": "prose", "has_code": false, "token_count": 508}
{"chunk_id": "02_core_concepts__basics__asset-bundling__004", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/asset-bundling", "title": "Asset Bundling", "section_heading": "Importing libraries from npm", "content": "## Importing libraries from npm\n\nIf you are familiar with modern web development, you might need to install\n3rd-party libraries from npm and use it in your project.\n\nLet's say you want to use the `dayjs` library for working with Date and Time in\nyour app. You first install it using `yarn` by running the following command\nfrom the root of your apps folder.\n\n```python\n$ cd frappe-bench/apps/myapp\n$ yarn add dayjs\n```\n\nNow, you can import it in your source files like so:\n\n**myapp/public/main.bundle.js**\n\n```python\nimport * as dayjs from 'dayjs';\n\nconsole.log(dayjs())\n```\n\n### Including bundled assets in HTML\n\nWhen a bundle file is compiled, the output file contains a unique hash. So, you\ncannot hardcode the path of the file because the next time you make a change to\nthat file the hash will change. Frappe provides a couple of helpers to do this.\n\n### Including assets in custom HTML files\n\nThe Jinja methods `include_script` and `include_style` will output the correct\npath of the file including the HTML markup for `.js` and `.css` files respectively.\n\n**index.html**\n\n```python\nMy App\n\n \n \n \n\n \n\n \n```\n\n**index.html (Rendered)**\n\n```python\nMy App\n\n <script type=\"text/javascript\" src=\"/assets/myapp/dist/js/main.bundle.BYJXV4LB.js\"></script>\n```\n\n### Including assets in app.html\n\nIf you want to include bundled assets from your app in `/app` you can use the\n`app_include_js` and `app_include_css` to load them into app.html.\n\n**[app]/hooks.py**\n\n```python\napp_include_js = ['main.bundle.js']\napp_include_css = ['style.bundle.css']\n```\n\n### Get bundled asset path\n\nIf for some reason you need only the path of the bundled asset, you can use the\n`bundled_asset` Jinja method to generate it.\n\n**Jinja**\n\n```python\n\n```\n\n**Rendered**\n\n```python\n/assets/myapp/dist/js/main.bundle.BYJXV4LB.js\n```\n\n### Python API\n\nThese APIs are also available in python. You can import them from jinja\\_globals.py.\n\n```python\nfrom frappe.utils.jinja_globals import bundled_asset, include_script, include_style\n\nbundled_asset('main.bundle.js')\n```\n\n### Including bundled assets lazily in `/app`\n\nIf you want to lazy load bundled assets inside the Admin UI (`/app`) you can\nuse the `frappe.require` method.\n\n```python\nfrappe.require('main.bundle.js').then(() => {\n // main.bundle.js is now loaded\n})\n```\n\nThis approach is useful when you want to load your code based on some condition.\nThe first page load won't be impacted and is better for performance.\n\n### Production Mode\n\nWhen deploying your app to production, you can build your assets in production\nmode. In this mode, the bundler will minify the final output of your bundle\nwhich results in smaller file sizes.\n\nTo build your assets in production mode, run the following command:\n\n```python\n$ bench build --production\n```", "content_type": "mixed", "has_code": true, "token_count": 691}
{"chunk_id": "02_core_concepts__basics__static-assets__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/static-assets", "title": "Static Assets", "section_heading": "The `assets` folder", "content": "## The `assets` folder\n\nA guide to understanding how static assets are served in Frappe Framework.\n\n### The `assets` folder\n\nStatic files are served from the `frappe-bench/sites/assets` folder. When you\nset up frappe for production deployment, nginx serves this folder directly. All\nstatic file URLs always start with `/assets`. A file at the location\n`frappe-bench/sites/assets/hero.png` is accessible publicly via the URL\n`/assets/hero.png`.\n\n### The `public` folder\n\nEvery app has its own `public` folder which can be used to serve static assets.\nThis folder is symlinked to `frappe-bench/sites/assets/[appname]`. Here is the\noutput of `tree` command on the assets folder.\n\n```python\n~/frappe-bench\n$ tree sites/assets -L 1\nsites/assets\n\u251c\u2500\u2500 erpnext -> ~/frappe-bench/apps/erpnext/erpnext/public\n\u2514\u2500\u2500 frappe -> ~/frappe-bench/apps/frappe/frappe/public\n```\n\nThis means if there is file at `[appname]/public/images/favicon.png`, then it\nalso exists as a symlink at `assets/[appname]/images/favicon.png` and is\naccessible publicly via the URL `/assets/[appname]/images/favicon.png`.\n\n### Bundled Assets\n\n[Bundled Assets](/framework/v14/user/en/basics/asset-bundling) are generated at\n`assets/[appname]/dist/js` and `assets/[appname]/dist/css`. Hence, they are\naccessible via the URL `/assets/[appname]/dist/js/main.bundle.[hash].js`.\n\n### Site Assets\n\nIn addition to static files provided by apps, each site can have its own static\nfiles that might come from user uploads or site backups.", "content_type": "mixed", "has_code": true, "token_count": 371}
{"chunk_id": "02_core_concepts__basics__static-assets__002", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/static-assets", "title": "Static Assets", "section_heading": "User uploads", "content": "## User uploads\n\nFiles uploaded by user that are public are stored at\n`frappe-bench/sites/[sitename]/public/files`. A file stored at\n`frappe-bench/sites/[sitename]/public/files/profile.png` is accessible publicly\nvia the URL `/files/profile.png`\n\nFiles uploaded by user that are private are stored at\n`frappe-bench/sites/[sitename]/private/files`. A file stored at\n`frappe-bench/sites/[sitename]/private/files/profile.png` is accessible via the\nURL `/private/files/profile.png`. Private files are accessible only when the\nuser is authorized to view them.\n\n### Backups\n\nAny local backups that are generated for the site are stored as\n`frappe-bench/sites/[sitename]/private/backups/20210502_182223-[sitename]-database.sql.gz`.\nIt is accessible via the URL\n`/backups/20210502_182223-[sitename]-database.sql.gz` and only when the user is\nauthorized to download them.\n\nHere is the output of the `ls` command:\n\n```python\n~/frappe-bench\n$ ls -l sites/site1.test/private/backups\ntotal 6160\n-rw-r--r-- 1 farisansari staff 2429268 May 2 18:22 20210502_182223-site1_test-database.sql.gz\n-rw-r--r-- 1 farisansari staff 278 May 2 18:22 20210502_182223-site1_test-site_config_backup.json\n```", "content_type": "mixed", "has_code": true, "token_count": 294}
{"chunk_id": "02_core_concepts__basics__site_config__001", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/site_config", "title": "Site Config", "section_heading": "Site Config", "content": "## Site Config\n\nFrappe sites can share the same application server, each behind different database solutions, configurations and locations, with different granularities via the Site Config in Bench.\n\nThe Site Config stores all site-related information, from the site's Database details to the custom domains that point to it. Through the Site Configuration, we can define the key, value pairs that may change the behaviour of Frappe and your Frappe Apps.\n\n### Site Config\n\n`site_config.json` stores the global configuration for a particular site and is present in the site directory. The file is created and populated automatically by Frappe. As this depends on Frappe, the default settings or behaviour may also change depending on any updates.\n\n```python\n{\n  \"db_name\": \"frappe_database_name\",\n  \"db_password\": \"frappe_database_password\",\n  \"admin_password\": \"admin_password\",\n}\n```\n\n> Note: This file is considered to contain important information related to a site's state and could prove troublesome in case of loss of config files or corruption. It is backed up periodically along with the database backups in vanilla setups.", "content_type": "mixed", "has_code": true, "token_count": 282}
{"chunk_id": "02_core_concepts__basics__site_config__002", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/site_config", "title": "Site Config", "section_heading": "Common Site Config", "content": "## Common Site Config\n\n`common_site_config.json` stores configuration shared by your bench. Actions performed at the Bench level are generally related to this config. The config keys defined may be used to alter behaviour of bench level operations or impact all the sites on your bench, considering the config value precedence.\n\nThis file is automatically generated and managed by the Bench CLI. Changes in this file may affect change in the behaviour of your Frappe setups depending on your system settings and Bench CLI's version.\n\n```python\n{\n  \"background_workers\": 1,\n  \"developer_mode\": true,\n  \"dns_multitenant\": true,\n  \"file_watcher_port\": 6789,\n  \"frappe_user\": \"frappe\",\n  \"gunicorn_workers\": 2,\n  \"maintenance_mode\": 0,\n  \"pause_scheduler\": 0,\n  \"redis_cache\": \"redis://localhost:13000\",\n  \"redis_queue\": \"redis://localhost:11000\",\n  \"redis_socketio\": \"redis://localhost:12000\",\n  \"scheduler_tick_interval\": 120,\n  \"serve_default_site\": true,\n  \"socketio_port\": 9000,\n  \"webserver_port\": 8000,\n  \"root_password\": \"MARIADB_PASSWORD\",\n  \"live_reload\": true\n\n}\n```\n\n### Optional Settings\n\n|  |  |\n| --- | --- |\n| `workers` | Allows creating custom workers. The `background_workers` param is optional, if not set the general `background_workers` will be used. Example: `\"workers\": { \"custom_worker1\": { \"timeout\": 5000, \"background_workers\": 4 } }`. Regenerate config and restart processes to take effect. |\n\nApart from this, you can set any keys you wish to be available for all sites.", "content_type": "mixed", "has_code": true, "token_count": 373}
{"chunk_id": "02_core_concepts__basics__site_config__003", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/site_config", "title": "Site Config", "section_heading": "Config Value Precedence", "content": "## Config Value Precedence\n\nThe value for a particular key being set in the `site_config.json` will have precedence over the value defined in the `common_site_config.json`. This means the key-values defined in the common config may be used as a fallback in some cases.\n\nImagine you want to enable the Frappe Web Logger on all the sites on your bench, except one *worker.frappe.xyz* because let's assume it's a very high activity site and you just don't need to be flooded with a lot of information at once. You can set `enable_frappe_logger` as `true` in the `common_site_config.json` and set it to `false` in *worker.frappe.xyz*'s `site_config.json`.\n\n```python\n$ bench config set-common-config -c enable_frappe_logger true\n$ bench --site worker.frappe.xyz set-config enable_frappe_logger false\n```\n\nSimilarly, it is possible to have a single application server to support a number of sites, each having a different database solutions provider or location. If you choose to move all the sites on your bench to another database server, the switch may be as little as updating the values in the `common_site_config.json` of your bench.\n\n### Standard Config Keys\n\nThese are some of the standard keys utilised by Frappe Framework and Bench.\n\n### Mandatory Settings\n\nThese keys are set in the `site_config.json` and are generated automatically unless the values are provided during site creation.\n\n|  |  |\n| --- | --- |\n| `db_type` | Database Type. Options include \"mariadb\" and \"postgres\". |\n| `db_name` | Database Name. |\n| `db_password` | Database password. |", "content_type": "mixed", "has_code": true, "token_count": 389}
{"chunk_id": "02_core_concepts__basics__site_config__004", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/site_config", "title": "Site Config", "section_heading": "Optional Settings", "content": "## Optional Settings\n\n|  |  |\n| --- | --- |\n| `admin_password` | Default Password for the standard \"Administrator\" User. This will be used as the password for the Administrator User for all new sites. |\n| `allow_tests` | Setting this allows tests to be run on this site. |\n\n| `allow_cors` | Enables [cross-site HTTP requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS). Can be set to: \\* a specific origin, for example: `\"https://example.com\"`\n\n* a list of origins, for example: `[\"https://portal.example.com\", \"https://shop.example.com\"]`\n* a wildcard: `\"*\"` (Not recommended for production use)\n  |\n  | `data_import_batch_size` | Batch Size for Data Import |\n  | `deny_multiple_logins` | Stop users from having more than one active session. |\n  | `deny_multiple_sessions` | Deny Multiple Sessions. |\n  | `developer_mode` | If developer mode is set, DocType changes are automatically updated in files. |\n  | `disable_async` | Disables socket.io client; the client stops polling the socket.io server. |\n  | `disable_error_snapshot` | Disable Error Snapshot. |\n  | `disable_global_search` | Disable Global Search. |\n  | `disable_scheduler` | Disable Scheduler |\n  | `disable_session_cache` | Disable Session Cache. |\n  | `disable_website_cache` | Disable Website Cache. |\n  | `encryption_key` | Key used to encrypt Passwords. This password is created automatically on a fresh site. Upon site restore, this key will have to be restored as well to be able to use existing passwords. |\n  | `enable_frappe_logger` | If set, logs basic info from the requests and saves them under `./sites/{site}/logs/frappe.web.log`. |\n  | `error_report_email` | Set the default Error Report Email. |\n  | `ignore_csrf` | Ignore CSRF. |\n  | `install_apps` | Mention the list of apps to install at site `restore`, `reinstall` and on `new` creations. |\n  | `host_name` | Host Name |\n  | `http_port` | Change the HTTP port for your Frappe Setup. |\n  | `keep_backups_for_hours` | Utilized in `frappe.utils.new_backup` to pass through `frappe.utils.delete_temp_backups`. It retains the backup files depending on their age in hours. |\n  | `local_infile` | Set Flag to allow Data from local infile for MySQL connections. |\n  | `logging` | Utilise frappe.debug\\_log via frappe.log to enable different levels of logging. At level 2, shows queries and results run at every action. |\n  | `maintenance_mode` | Enable maintenance mode. |\n  | `max_file_size` | Max file size allowed for file uploads. Default is 10MiB. |\n  | `max_reports_per_user` | Maximum number of Auto Email Reports which can be created by a user, default is 3. |\n  | `monitor` | If set, logs all requests and saves under `./logs/monitor.json.log`. Check out [monitoring](/framework/v14/user/en/debugging#monitoring) under the Debugging documentation. |\n  | `mute_emails` | Stops email sending if true. |\n  | `pause_scheduler` | Pause Scheduler |\n  | `rate_limit` | Specify Rate Limits using `frappe.rate_limiter`. Check out the document reference [rate limiting](/framework/v14/user/en/rate-limiting). |\n  | `robots_txt` | Path to robots.txt file to be rendered when going to frappe-site.com/robots.txt |\n  | `root_login` | Database root username. |\n  | `root_password` | Database root password. |\n  | `server_script_enabled` | Enable/Disable Server Script. |\n  | `skip_setup_wizard` | Skip Setup Wizard. |\n  | `socketio_port` | Specify Socket.IO Port. |\n  | `webserver_port` | Generally used as fallback for conf key `http_port`. |\n  | `app_include_js` | Inject JavaScript script by URL in `/app`. Must be a list of absolute URLs. |\n  | `app_include_css` | Inject CSS Stylesheet by URL in `/app`. Must be a list of absolute URLs. |", "content_type": "prose", "has_code": false, "token_count": 920}
{"chunk_id": "02_core_concepts__basics__site_config__005", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/site_config", "title": "Site Config", "section_heading": "Remote Database Host Settings", "content": "## Remote Database Host Settings\n\nTo connect to a remote database server using *SSL*, you must first configure the database host to accept SSL connections. An example of how to do this is available at [this tutorial by Digital Ocean](https://www.digitalocean.com/community/tutorials/how-to-configure-ssl-tls-for-mysql-on-ubuntu-16-04). After you do the configuration, set the following three options. All options must be set for Frappe to attempt to connect using SSL.\n\n|  |  |\n| --- | --- |\n| `db_host` | Database host if not `localhost`. |\n| `db_port` | Specify port for your database. |\n| `db_ssl_ca` | Full path to the ca.pem file used for connecting to a database host using ssl. Example value is `\"/etc/mysql/ssl/ca.pem\"`. |\n| `db_ssl_cert` | Full path to the cert.pem file used for connecting to a database host using ssl. Example value is `\"/etc/mysql/ssl/client-cert.pem\"`. |\n| `db_ssl_key` | Full path to the key.pem file used for connecting to a database host using ssl. Example value is `\"/etc/mysql/ssl/client-key.pem\"`. |\n| `rds_db` | Grant certain privileges instead of all, while setting up a Site's database. Used in `db_manager.py`. |", "content_type": "prose", "has_code": false, "token_count": 288}
{"chunk_id": "02_core_concepts__basics__site_config__006", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/site_config", "title": "Site Config", "section_heading": "Replica Read Only Database Host Settings", "content": "## Replica Read Only Database Host Settings\n\nGuide to setup read operations from secondary MariaDB server in a replica setup is available at in the [user guides](/framework/v14/user/en/guides/database-settings/setup-read-from-secondary-db).\n\n|  |  |\n| --- | --- |\n| `read_from_replica` | To enable disable read from replica. Acceptable values are 1/0 or true/false. |\n| `different_credentials_for_replica` | If database credentials are different on replica then set 1 else 0 |\n| `replica_host` | IP address for repica |\n| `replica_db_name` | Replica DB name |\n| `replica_db_password` | Replica DB password |\n\n### Default Outgoing Email Settings\n\nSome of the available lower level configurations for Frappe's Email module.\n\n|  |  |\n| --- | --- |\n| `auto_email_id` | If set, this will be the default email for outgoing mails. |\n| `mail_login` | is used as the second preference and \"notifications@example.com\" is used as fallback. |\n| `always_use_account_email_id_as_sender` | Use Account Email ID As Sender. |\n| `always_use_account_name_as_sender_name` | Use Account Name as Sender Name |\n| `email_sender_name` | Email Sender Name. |\n| `mail_server` | SMTP server hostname. |\n| `mail_port` | STMP port. |\n| `mail_login` | Login id for SMTP server. |\n| `mail_password` | Password for SMTP server. |\n| `pop_timeout` | POP Timeout. |\n| `use_ssl` | Connect via SSL. |\n| `use_tls` | Connect via TLS. |", "content_type": "prose", "has_code": false, "token_count": 348}
{"chunk_id": "02_core_concepts__basics__site_config__007", "module": "02_core_concepts", "source_url": "https://docs.frappe.io/framework/v15/user/en/basics/site_config", "title": "Site Config", "section_heading": "Bench Configuration", "content": "## Bench Configuration\n\nThese configurations are utilised by the Bench CLI and may be set differently for each bench on your system through the common site configuration.\n\n|  |  |\n| --- | --- |\n| `restart_supervisor_on_update` | Restart supervisord on bench update |\n| `restart_systemd_on_update` | Restart systemd on bench update |\n| `release_bench` | If set, the current bench will be treated purely as a tool for performing releases. |\n| `background_workers` | Number of workers allocated for handling the background jobs. |\n| `dns_multitenant` | If set, turns on DNS multitenany for Bench. Used during NGINX conf generations. |\n| `file_watcher_port` | Port number for the File Watcher |\n| `frappe_user` | The user under which the current Bench was created. |\n| `gunicorn_workers` | Number of Gunicorn workers. Default minimum value is 2. |\n| `gunicorn_max_requests` | Number of requests after gunicorn workers will be restarted. Default value is 5000. |\n| `maintenance_mode` | If set, takes sites offline and stops all background processes and scheduled jobs. Used during site migrations and bench update operations. |\n| `pause_scheduler` | If set, pauses the scheduler for the specified sites. |\n| `redis_cache` | Port number for the redis cache process defined in the Bench Procfile. |\n| `redis_queue` | Port number for the redis queue process defined in the Bench Procfile. |\n| `redis_socketio` | Port number for the redis Socket.IO process defined in the Bench Procfile. |\n| `scheduler_tick_interval` | Job Scheduler runs a loop that enqueues all scheduled jobs pending execution once every *scheduler\\_tick\\_interval* seconds. This makes it possible to set the minimum frequency for scheduling jobs. Defaults to 60. |\n| `socketio_port` | Port number for the Socket.IO process defined in the Bench Procfile. |\n| `webserver_port` | Port number for the Frappe web server. |\n| `live_reload` | Automatically reload Desk when assets are rebuilt. |\n\n### Integrations\n\nSome third party integrations may require lower level configurations you may want to define for all the sites on your bench, if you're a service provider. Frappe let's you define these config settings for your integrations via the site config.\n\n### Sandbox\n\n|  |  |\n| --- | --- |\n| `sandbox_api_key` | Sandbox API Key |\n| `sandbox_api_secret` | Sandbox API Secret |\n| `sandbox_api_password` | Sandbox API Password |\n| `sandbox_api_username` | Sandbox API Username |\n| `sandbox_publishable_key` | Sandbox Publishable Key |\n| `sandbox_signature` | Sandbox Signature |\n\n### DropBox\n\n|  |  |\n| --- | --- |\n| `dropbox_access_key` | Dropbox Access Key |\n| `dropbox_broker_site` | Dropbox Broker Site |\n| `dropbox_secret_key` | Dropbox Secret Key |\n\n### PayPal\n\n|  |  |\n| --- | --- |\n| `paypal_username` | Paypal Username |\n| `paypal_password` | PayPal Password |\n| `paypal_signature` | Paypal Signature |\n\n### Others\n\n|  |  |\n| --- | --- |\n| `google_analytics_id` | Google Analytics ID |\n| `converted_rupee_to_paisa` | Converted Rupee To Paisa for RazorPay Settings |", "content_type": "prose", "has_code": false, "token_count": 757}
