{"chunk_id": "01_getting_started__introduction__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/introduction", "title": "Introduction", "section_heading": "Why Frappe?", "content": "## Why Frappe?\n\nWelcome to Frappe Framework Documentation\n\nFrappe, pronounced *fra-pay*, is a full stack, batteries-included, web framework written in Python and Javascript with MariaDB as the database. It is the framework which powers [ERPNext](https://erpnext.com), is pretty generic and can be used to build database driven apps.\n\n### Why Frappe?\n\nThe key difference in Frappe compared to other frameworks is that **meta-data** is also treated as data. This enables you to build front-ends very easily. We believe in a monolithic architecture, so Frappe comes with almost everything you need to build a modern web application. It has a full featured Admin UI called the Desk that handles forms, navigation, lists, menus, permissions, file attachment and much more out of the box.\n\n[Read More \u2192](/framework/v14/user/en/basics/why)\n\n### Prerequisites\n\nBefore you can start with Frappe, be sure you understand the stack it's built on.\n\n[Prerequisites \u2192](/framework/v14/user/en/prerequisites)\n\n### Installation\n\nBefore you can use Frappe, you need to install it. We have a complete installation guide which covers all possibilities, this guide will also help you understand the backend stack.\n\n[Frappe Installation Guide \u2192](/framework/v14/user/en/installation)\n\n### Tutorial\n\nLearn how to build a Library Management System using the Frappe Framework.\n\n[Tutorial \u2192](/framework/v14/user/en/tutorial)\n\n### Documentation\n\nThe official documentation covers everything you need to know about the Frappe Framework.\n\n[Read the docs \u2192](/framework/v14/user/en)\n\n### Join the community\n\nHang out with our growing community on our forum, ask questions, help others and be a part of the community.\n\n[Join us \u2192](https://discuss.erpnext.com)\n\n---\n\nFrappe is [MIT Licensed](https://github.com/frappe/frappe/blob/develop/LICENSE) and is hosted on [GitHub](https://github.com/frappe/frappe).", "content_type": "prose", "has_code": false, "token_count": 468}
{"chunk_id": "01_getting_started__prerequisites__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/prerequisites", "title": "Prerequisites", "section_heading": "1. Python", "content": "## 1. Python\n\nA list of resources to help you get started with building apps using Frappe.\n\n### 1. Python\n\nFrappe uses Python 3 for server-side programming. It is highly recommended to\nlearn Python before you start building apps with Frappe Framework.\n\nResources:\n\n1. [Codecademy Tutorial for Python](https://www.codecademy.com/learn/learn-python-3)\n2. [Official Python Tutorial](https://docs.python.org/3/tutorial/index.html)\n\n### 2. MariaDB / Postgres\n\nTo create database-driven apps with Frappe, you must understand the basics of\ndatabase management and common SQL queries.\n\nResources:\n\n1. [Codecademy Tutorial for SQL](https://www.codecademy.com/learn/learn-sql)\n2. [A basic MySQL tutorial by DigitalOcean](https://www.digitalocean.com/community/tutorials/how-to-perform-basic-queries-in-mysql-and-mariadb-on-a-cloud-server)\n3. [Getting started with MariaDB](https://mariadb.com/kb/en/mariadb/documentation/getting-started/)\n\n### 3. HTML / CSS\n\nIf you want to build user interfaces using Frappe Framework, you will need to\nlearn basic HTML / CSS and the Bootstrap CSS Framework.\n\nResources:\n\n1. [Codecademy Tutorial for HTML/CSS](https://www.codecademy.com/learn/learn-html-css)\n2. [Getting started with Bootstrap](https://getbootstrap.com/getting-started/)\n\n### 4. JavaScript / jQuery\n\nTo customize forms and create interactive user interfaces, you will have to\nlearn JavaScript and the library jQuery.\n\nResources:\n\n1. [The Modern JavaScript Tutorial](https://javascript.info/)\n2. [Codecademy Tutorial for JavaScript](https://www.codecademy.com/learn/learn-javascript)\n3. [Codecademy Tutorial for jQuery](https://www.codecademy.com/learn/jquery)\n\n### 5. Jinja Templating\n\nFor building Web Views and Print Templates, you will have to learn the Jinja\nTemplating language.\n\nResources:\n\n1. [Jinja Documentation](https://jinja.palletsprojects.com/en/2.11.x/)", "content_type": "prose", "has_code": false, "token_count": 464}
{"chunk_id": "01_getting_started__prerequisites__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/prerequisites", "title": "Prerequisites", "section_heading": "6. Git / GitHub", "content": "## 6. Git / GitHub\n\nLearn how to contribute to an open source project using Git and GitHub, two\ngreat tools to help you manage your code and share it with others.\n\nResources:\n\n1. [Basic Git Tutorial](https://try.github.io/)\n2. [How to contribute to Open Source](https://opensource.guide/how-to-contribute/)\n\nIf you are comfortable with the basics of these tools, you are ready to build an\napp with Frappe Framework.\n\nNext: [Create a Bench](/framework/v14/user/en/tutorial/install-and-setup-bench)", "content_type": "prose", "has_code": false, "token_count": 124}
{"chunk_id": "01_getting_started__installation__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/installation", "title": "Installation", "section_heading": "System Requirements", "content": "## System Requirements\n\n> These steps assume you want to install Bench in developer mode. If you want install in production mode, follow the [latest recommended installation methods](https://github.com/frappe/bench#installation).\n\n### System Requirements\n\nThis guide assumes you are using a personal computer, VPS or a bare-metal server. You also need to be on a \\*nix system, so any Linux Distribution and MacOS is supported. However, we officially support only the following distributions.\n\n1. [MacOS](#macos)\n2. [Debian / Ubuntu](#debian-ubuntu)\n\n> Learn more about the architecture [here](/framework/v14/user/en/basics/architecture).\n\n### Pre-requisites\n\n```python\nPython 3.10+ (v14)\nNode.js 16\nRedis 6                                       (caching and realtime updates)\nMariaDB 10.6.6+ / Postgres v12 to v14         (Database backend)\nyarn 1.12+                                    (js dependency manager)\npip 20+                                       (py dependency manager)\nwkhtmltopdf (version 0.12.5 with patched qt)  (for pdf generation)\ncron                                          (bench's scheduled jobs: automated certificate renewal, scheduled backups)\nNGINX                                         (proxying multitenant sites in production)\n```", "content_type": "mixed", "has_code": true, "token_count": 315}
{"chunk_id": "01_getting_started__installation__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/installation", "title": "Installation", "section_heading": "MacOS", "content": "## MacOS\n\nInstall command line version of Xcode tools.\n\n```python\nxcode-select --install\n```\n\nInstall [Homebrew](https://brew.sh/). It makes it easy to install packages on macOS.\n\n```python\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n```\n\nNow, you can easily install the required packages by running the following command\n\n```python\nbrew install python@3.10 git redis mariadb@10.6 node@14\nbrew install --cask wkhtmltopdf\n```\n\nNow, edit the MariaDB configuration file.\n\n```python\nnano /usr/local/etc/my.cnf\n```\n\nFor Apple silicon the path for the MariaDB config is\n\n```python\nnano /opt/homebrew/etc/my.cnf\n```\n\nAnd add this configuration\n\n```python\n[mysqld]\ncharacter-set-client-handshake = FALSE\ncharacter-set-server = utf8mb4\ncollation-server = utf8mb4_unicode_ci\nbind-address = 127.0.0.1\n\n[mysql]\ndefault-character-set = utf8mb4\n```\n\nNow, just restart the mysql service and you are good to go.\n\n```python\nbrew services restart mariadb\n```\n\n**Install Yarn**\n\nInstall yarn using npm\n\n```python\nnpm install -g yarn\n```", "content_type": "mixed", "has_code": true, "token_count": 267}
{"chunk_id": "01_getting_started__installation__003", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/installation", "title": "Installation", "section_heading": "Debian / Ubuntu", "content": "## Debian / Ubuntu\n\nInstall `git`, `python`, and `redis`\n\n```python\nsudo apt install git python-dev python-pip redis-server\n```\n\n**Install MariaDB**\n\n```python\nsudo apt install software-properties-common\n```\n\nIf you are on Ubuntu version older than 20.04, run this before installing MariaDB:\n\n```python\nsudo apt-key adv --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 0xF1656F24C74CD1D8\nsudo add-apt-repository 'deb [arch=amd64,i386,ppc64el] http://ftp.ubuntu-tw.org/mirror/mariadb/repo/10.3/ubuntu xenial main'\n```\n\nIf you are on version Ubuntu 20.04, then MariaDB is available in default repo and you can directly run the below commands to install it:\n\n```python\nsudo apt-get update\nsudo apt-get install mariadb-server\n```\n\nDuring this installation you'll be prompted to set the MySQL root password. If you are not prompted, you'll have to initialize the MySQL server setup yourself. You can do that by running the command:\n\n```python\nmysql_secure_installation\n```\n\n> Remember: only run it if you're not prompted the password during setup.\n\nIt is really important that you remember this password, since it'll be useful later on. You'll also need the MySQL database development files.\n\n```python\napt-get install mariadb-client-10.3\n```\n\nNow, edit the MariaDB configuration file.\n\n```python\nnano /etc/mysql/my.cnf\n```\n\nAnd add this configuration\n\n```python\n[mysqld]\ncharacter-set-client-handshake = FALSE\ncharacter-set-server = utf8mb4\ncollation-server = utf8mb4_unicode_ci\n\n[mysql]\ndefault-character-set = utf8mb4\n```\n\nNow, just restart the mysql service and you are good to go.\n\n```python\nservice mysql restart\n```\n\n**Install Node**\n\nWe recommend installing node using [nvm](https://github.com/creationix/nvm)\n\n```python\ncurl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash\n```\n\nAfter nvm is installed, you may have to close your terminal and open another one. Now run the following command to install node.\n\n```python\nnvm install 14\n```\n\nVerify the installation, by running:\n\n```python\nnode -v\n# output\nv14.17.2\n```\n\nFinally, install `yarn` using `npm`\n\n```python\nnpm install -g yarn\n```\n\n**Install wkhtmltopdf**\n\n```python\napt-get install xvfb libfontconfig wkhtmltopdf\n```", "content_type": "mixed", "has_code": true, "token_count": 553}
{"chunk_id": "01_getting_started__installation__004", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/installation", "title": "Installation", "section_heading": "Install Bench CLI", "content": "## Install Bench CLI\n\nInstall bench via pip3\n\n```python\npip3 install frappe-bench\n```\n\nConfirm the bench installation by checking version\n\n```python\nbench --version\n\n# output\n5.2.1\n```\n\nCreate your first bench folder.\n\n```python\ncd ~\nbench init frappe-bench\n```\n\nAfter the frappe-bench folder is created, change your directory to it and run this command\n\n```python\nbench start\n```\n\nCongratulations, you have installed bench on to your system.", "content_type": "mixed", "has_code": true, "token_count": 110}
{"chunk_id": "01_getting_started__tutorial__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial", "title": "Tutorial", "section_heading": "Who is this for?", "content": "## Who is this for?\n\nIn this guide, you will learn how to create a web application from scratch using\nthe Frappe Framework.\n\n### Who is this for?\n\nThis guide is intended for software developers who are familiar with how web\napplications are built. The Frappe Framework is powered by Python, JavaScript\nand Redis, to name a few technologies and supports MariaDB and PostgreSQL\ndatabases. Jinja is used as the templating engine for Web Views and Print\nformats. Redis is used for caching, maintaing job queues and realtime updates.\nHowever, you may not need to be proficient in all these tools to get started\nwith it.\n\nFrappe Framework and the apps you build on it require `git` for version control\nand update management via Bench. It is also expected that you are familiar with\nbasic git commands.\n\n### What are we building?\n\nWe will build a simple **Library Management System** in which the **Librarian**\ncan log in and manage Articles and Memberships. We will build the following\nmodels:\n\n1. **Article:** A Book or similar item that can be rented.\n2. **Library Member:** A user who is subscribed to a membership.\n3. **Library Transaction:** An Issue or Return of an article.\n4. **Library Membership:** A document that represents an active membership of a\n   Library Member.\n5. **Library Settings:** Settings that define values like Loan Period and\n   the maximum number of articles that can be issued at a time.\n\nThe Librarian will log in to an interface known as\u00a0**Desk**, a rich admin\ninterface that ships with the framework. The Desk provides many standard views like\nList view, Form view, Report view, etc, and many features like Role-based\nPermissions.\n\nWe will also create public Web Views which can be accessed by the Library\nMembers where they can browse available Articles.", "content_type": "prose", "has_code": false, "token_count": 445}
{"chunk_id": "01_getting_started__tutorial__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial", "title": "Tutorial", "section_heading": "Table of Contents", "content": "## Table of Contents\n\n1. [Create a Bench](/framework/v14/user/en/tutorial/install-and-setup-bench)\n2. [Create an App](/framework/v14/user/en/tutorial/create-an-app)\n3. [Create a Site](/framework/v14/user/en/tutorial/create-a-site)\n4. [Create a DocType](/framework/v14/user/en/tutorial/create-a-doctype)\n5. [DocType Features](/framework/v14/user/en/tutorial/doctype-features)\n6. [Controller Methods](/framework/v14/user/en/tutorial/controller-methods)\n7. [Types of DocType](/framework/v14/user/en/tutorial/types-of-doctype)\n8. [Form Scripts](/framework/v14/user/en/tutorial/form-scripts)\n9. [Portal Pages](/framework/v14/user/en/tutorial/portal-pages)\n10. [What's Next](/framework/v14/user/en/tutorial/whats-next)", "content_type": "prose", "has_code": false, "token_count": 178}
{"chunk_id": "01_getting_started__tutorial__install-and-setup-bench__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/install-and-setup-bench", "title": "Install And Setup Bench", "section_heading": "", "content": "Bench is the command line tool to manage Frappe apps and sites.\n\n##Installation\n\nIf you haven't installed Bench, follow the [Installation](/framework/v14/user/en/installation) guide. After installation, you should be able to run commands that start with `bench`.\n\nRun the following command to test your installation:\n\n```python\n$ bench --version\n5.1.0\n```\n\n##Create the frappe-bench directory\n\nLet's create our project folder which will contain our apps and sites. Run the following command:\n\n```python\n$ bench init frappe-bench\n```\n\nThis will create a directory named `frappe-bench` in your current working directory. It will do the following:\n\n1. Create a python virtual environment under `env` directory.\n2. Fetch and install the `frappe` app as a python package.\n3. Install node modules of `frappe`.\n4. Build static assets.\n\n##Directory Structure\n\n```python\n.\n\u251c\u2500\u2500 Procfile\n\u251c\u2500\u2500 apps\n\u2502 \u2514\u2500\u2500 frappe\n\u251c\u2500\u2500 config\n\u2502 \u251c\u2500\u2500 pids\n\u2502 \u251c\u2500\u2500 redis_cache.conf\n\u2502 \u251c\u2500\u2500 redis\\_queue.conf\n\u2502 \u2514\u2500\u2500 redis\\_socketio.conf\n\u251c\u2500\u2500 env\n\u2502 \u251c\u2500\u2500 bin\n\u2502 \u251c\u2500\u2500 include\n\u2502 \u251c\u2500\u2500 lib\n\u2502 \u2514\u2500\u2500 share\n\u251c\u2500\u2500 logs\n\u2502 \u251c\u2500\u2500 backup.log\n\u2502 \u2514\u2500\u2500 bench.log\n\u2514\u2500\u2500 sites\n \u251c\u2500\u2500 apps.txt\n \u251c\u2500\u2500 assets\n \u2514\u2500\u2500 common\\_site\\_config.json\n```\n\n* **env**: Python virtual environment\n* **config**: Config files for Redis and Nginx\n* **logs**: Log files for every process (web, worker)\n* **sites:** Sites directory\n* **assets:** Static assets that served via Nginx in production\n* **apps.txt:** List of installed frappe apps\n* **common\\\\_site\\\\_config.json:** Site config that is available in all sites\n* **apps:** Apps directory\n* **frappe:** The Frappe app directory\n* **Procfile:** List of processes that run in development\n\n##Start the Bench Server\n\nNow that we have created our `frappe-bench` directory, we can start the Frappe web server by running the following command:", "content_type": "mixed", "has_code": true, "token_count": 448}
{"chunk_id": "01_getting_started__tutorial__install-and-setup-bench__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/install-and-setup-bench", "title": "Install And Setup Bench", "section_heading": "", "content": "```python\n$ cd frappe-bench\n$ bench start\n18:16:36 system | redis_cache.1 started (pid=11231)\n18:16:36 system | redis_socketio.1 started (pid=11233)\n18:16:36 system | redis_queue.1 started (pid=11234)\n18:16:36 system | socketio.1 started (pid=11236)\n18:16:36 system | web.1 started (pid=11237)\n18:16:36 system | watch.1 started (pid=11240)\n18:16:36 system | schedule.1 started (pid=11241)\n18:16:36 system | worker_short.1 started (pid=11242)\n18:16:36 redis_queue.1 | 11234:C 10 Jul 2020 18:16:36.320 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\n18:16:36 redis_queue.1 | 11234:C 10 Jul 2020 18:16:36.320 # Redis version=6.0.5, bits=64, commit=00000000, modified=0, pid=11234, just started\n18:16:36 redis_queue.1 | 11234:C 10 Jul 2020 18:16:36.320 # Configuration loaded\n18:16:36 system | worker_long.1 started (pid=11244)\n18:16:36 redis_cache.1 | 11231:C 10 Jul 2020 18:16:36.318 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\n18:16:36 redis_cache.1 | 11231:C 10 Jul 2020 18:16:36.318 # Redis version=6.0.5, bits=64, commit=00000000, modified=0, pid=11231, just started\n18:16:36 redis_cache.1 | 11231:C 10 Jul 2020 18:16:36.318 # Configuration loaded\n18:16:36 redis_cache.1 | 11231:M 10 Jul 2020 18:16:36.320 * Increased maximum number of open files to 10032 (it was originally set to 256).\n18:16:36 redis_queue.1 | 11234:M 10 Jul 2020 18:16:36.325 * Increased maximum number of open files to 10032 (it was originally set to 256).\n18:16:36 system | worker_default.1 started (pid=11245)\n18:16:36 redis_cache.1 | 11231:M 10 Jul 2020 18:16:36.337 * Running mode=standalone, port=13000.\n18:16:36 redis_cache.1 | 11231:M 10 Jul 2020 18:16:36.337 # Server initialized\n18:16:36 redis_cache.1 | 11231:M 10 Jul 2020 18:16:36.337 * Ready to accept connections\n18:16:36 redis_queue.1 | 11234:M 10 Jul 2020 18:16:36.367 * Running mode=standalone, port=11000.\n18:16:36 redis_queue.1 | 11234:M 10 Jul 2020 18:16:36.367 # Server initialized\n18:16:36 redis_queue.1 | 11234:M 10 Jul 2020 18:16:36.367 * Ready to accept connections\n18:16:36 redis_socketio.1 | 11233:C 10 Jul 2020 18:16:36.359 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\n18:16:36 redis_socketio.1 | 11233:C 10 Jul 2020 18:16:36.359 # Redis version=6.0.5, bits=64, commit=00000000, modified=0, pid=11233, just started\n18:16:36 redis_socketio.1 | 11233:C 10 Jul 2020 18:16:36.359 # Configuration loaded\n18:16:36 redis_socketio.1 | 11233:M 10 Jul 2020 18:16:36.374 * Increased maximum number of open files to 10032 (it was originally set to 256).\n18:16:36 redis_socketio.1 | 11233:M 10 Jul 2020 18:16:36.417 * Running mode=standalone, port=12000.\n18:16:36 redis_socketio.1 | 11233:M 10 Jul 2020 18:16:36.418 # Server initialized\n18:16:36 redis_socketio.1 | 11233:M 10 Jul 2020 18:16:36.418 * Ready to accept connections\n18:16:37 socketio.1 | listening on *: 9000\n18:16:41 web.1 | * Running on http://0.0.0.0:8000/ (Press CTRL+C to quit)\n18:16:41 web.1 | * Restarting with fsevents reloader\n18:16:41 watch.1 | yarn run v1.22.4\n18:16:41 watch.1 | $ node rollup/watch.js\n18:16:42 watch.1 |\n18:16:42 watch.1 | Rollup Watcher Started\n18:16:42 watch.1 |\n18:16:42 watch.1 | Watching...\n18:16:42 web.1 | * Debugger is active!\n18:16:42 web.1 | * Debugger PIN: 100-672-925\n18:16:43 watch.1 | Rebuilding frappe-web-b4.css\n18:16:44 watch.1 | Rebuilding frappe-chat-web.css\n18:16:44 watch.1 | Rebuilding chat.js\n18:16:45 watch.1 | Rebuilding frappe-recorder.min.js\n18:16:48 watch.1 | Rebuilding checkout.min.js\n18:16:48 watch.1 | Rebuilding frappe-web.min.js\n18:16:51 watch.1 | Rebuilding bootstrap-4-web.min.js\n18:16:52 watch.1 | Rebuilding control.min.js\n18:16:54 watch.1 | Rebuilding dialog.min.js\n18:16:57 watch.1 | Rebuilding desk.min.css\n18:16:57 watch.1 | Rebuilding frappe-rtl.css\n18:16:58 watch.1 | Rebuilding printview.css\n18:16:58 watch.1 | Rebuilding desk.min.js\n18:17:04 watch.1 | Rebuilding form.min.css\n18:17:04 watch.1 | Rebuilding form.min.js\n18:17:07 watch.1 | Rebuilding list.min.css\n18:17:07 watch.1 | Rebuilding list.min.js\n18:17:09 watch.1 | Rebuilding report.min.css\n18:17:09 watch.1 | Rebuilding report.min.js\n18:17:12 watch.1 | Rebuilding web_form.min.js\n18:17:12 watch.1 | Rebuilding web_form.css\n18:17:13 watch.1 | Rebuilding email.css\n18:17:13 watch.1 | Rebuilding social.min.js\n18:17:13 watch.1 | Rebuilding barcode_scanner.min.js\n18:17:15 watch.1 | Rebuilding data_import_tools.min.js\n```", "content_type": "mixed", "has_code": true, "token_count": 1089}
{"chunk_id": "01_getting_started__tutorial__install-and-setup-bench__003", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/install-and-setup-bench", "title": "Install And Setup Bench", "section_heading": "", "content": "This will start several processes including a Python web server based on Gunicorn, redis servers for caching, job queuing and socketio pub-sub, background workers, node server for socketio and a node server for compiling JS/CSS files.\n\nThe web server will start listening on the port `8000` but we don't have any sites yet to serve. Our next step is to create our app and create a site that will have this app installed.\n\nMake sure not to close the terminal where `bench start` is running. To run bench commands, create another terminal and cd into the `frappe-bench` directory.\n\nGood job on following the tutorial so far!\n\nNext: [Create an App](/framework/v14/user/en/tutorial/create-an-app)", "content_type": "prose", "has_code": false, "token_count": 173}
{"chunk_id": "01_getting_started__tutorial__create-an-app__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-an-app", "title": "Create An App", "section_heading": "Create app", "content": "## Create app\n\nCreate a frappe app scaffold using the bench CLI.\n\n### Create app\n\nBefore we start, make sure you're in a bench directory. To confirm, run `bench find .`:\n\n```python\n$ bench find .\n/home/frappe/frappe-bench is a bench directory!\n```\n\nTo create our Library Management app, run the `new-app` command:\n\n```python\n$ bench new-app library_management\nApp Title (default: Library Management):\nApp Description: Library Management System\nApp Publisher: Faris Ansari\nApp Email: faris@example.com\nApp Icon (default 'octicon octicon-file-directory'):\nApp Color (default 'grey'):\nApp License (default 'MIT'):\n'library_management' created at /home/frappe/frappe-bench/apps/library_management\n\nInstalling library_management\n$ ./env/bin/pip install -q -U -e ./apps/library_management\n$ bench build --app library_management\nyarn run v1.22.4\n$ FRAPPE_ENV=production node rollup/build.js --app library_management\nProduction mode\n\u2714 Built js/moment-bundle.min.js\n\u2714 Built js/libs.min.js\n\u2728  Done in 1.95s.\n```\n\nYou will be prompted with details of your app, fill them up and an app named `library_management` will be created in the `apps` folder.\n\nTo see a complete list of all icons supported in the octicons library, check out <https://primer.style/octicons/>", "content_type": "mixed", "has_code": true, "token_count": 313}
{"chunk_id": "01_getting_started__tutorial__create-an-app__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-an-app", "title": "Create An App", "section_heading": "App directory structure", "content": "## App directory structure\n\nYour app directory structure should look something like this:\n\n```python\napps/library_management\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 library_management\n\u2502   \u251c\u2500\u2500 hooks.py\n\u2502   \u251c\u2500\u2500 library_management\n\u2502 \u2502 \u2514\u2500\u2500 __init__.py\n\u2502 \u251c\u2500\u2500 modules.txt\n\u2502 \u251c\u2500\u2500 patches.txt\n\u2502 \u251c\u2500\u2500 public\n\u2502 \u2502 \u251c\u2500\u2500 css\n\u2502 \u2502 \u2514\u2500\u2500 js\n\u2502 \u251c\u2500\u2500 templates\n\u2502 \u2502 \u251c\u2500\u2500 __init__.py\n\u2502 \u2502 \u251c\u2500\u2500 includes\n\u2502 \u2502 \u2514\u2500\u2500 pages\n\u2502 \u2502 \u2514\u2500\u2500 __init__.py\n\u2502 \u2514\u2500\u2500 www\n\u2514\u2500\u2500 pyproject.toml\n```\n\n* **library\\_management:** This directory will contain all the source code for your app\n\n  + **public**: Store static files that will be served from Nginx in production\n  + **templates**: Jinja templates used to render web views\n  + **www**: Web pages that are served based on their directory path\n  + **library\\_management:** Default Module bootstrapped with app\n  + **modules.txt:** List of modules defined in the app\n  + **patches.txt**: Patch entries for database migrations\n  + **hooks.py**: Hooks used to extend or intercept standard functionality provided by the framework\n  + **pyproject.toml:** Specifies how your app is built, you can optionally add 3rd party Python dependencies here which will get installed when your app is installed.\n\nNext: [Create a Site](/framework/v14/user/en/tutorial/create-a-site)", "content_type": "mixed", "has_code": true, "token_count": 309}
{"chunk_id": "01_getting_started__tutorial__create-a-site__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-a-site", "title": "Create A Site", "section_heading": "Create a new site", "content": "## Create a new site\n\nEach site comes with a database. They may be customized throughsite specific scripting or Apps may be installed on them.\n\n### Create a new site\n\nTo create a new site, run the following command from the `frappe-bench` directory:\n\n```python\n$ bench new-site library.test\nMySQL root password:\n\nInstalling frappe...\nUpdating DocTypes for frappe        : [========================================] 100%\nUpdating country info               : [========================================] 100%\nSet Administrator password:\nRe-enter Administrator password:\n*** Scheduler is disabled ***\nCurrent Site set to library.test\n```\n\nThis command will create a new database, so you need to enter your MySQL root password. It will also ask to set the password for the Administrator user, just set a password that you won't forget. This will be useful later.\n\nNow, you will have a new folder named `library.test` in the `sites` directory.", "content_type": "mixed", "has_code": true, "token_count": 234}
{"chunk_id": "01_getting_started__tutorial__create-a-site__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-a-site", "title": "Create A Site", "section_heading": "Site Directory Structure", "content": "## Site Directory Structure\n\nThe site directory structure will look something like this:\n\n```python\nsites/library.test\n\u251c\u2500\u2500 indexes\n\u2502   \u2514\u2500\u2500 web_routes\n\u251c\u2500\u2500 locks\n\u251c\u2500\u2500 logs\n\u251c\u2500\u2500 private\n\u2502   \u251c\u2500\u2500 backups\n\u2502   \u2514\u2500\u2500 files\n\u251c\u2500\u2500 public\n\u2502   \u2514\u2500\u2500 files\n\u2514\u2500\u2500 site_config.json\n```\n\nThe `indexes` folder has indexes generated via [Website Search](/framework/v14/user/en/python-api/search).\n\nThe `locks` folder maintains file based locks over in-site documents as well as indicators of the state of the site itself.\n\nAs you can see, the `private` folder will contain any database backups and private files. Private files are user uploaded files that need authentication to be accessible.\n\nThe `public` folder will contain files that are accessible without authentication. This can contain website images that should be accessible without login.\n\nThe `site_config.json` file contains configuration that is specific to this site which should not be version controlled. This is similar to an environment variables file. If you look at the contents of the file, it contains the database configuration values for this site.\n\n```python\n{\n \"db_name\": \"_ad03fa1a016ca1c4\",\n \"db_password\": \"pz1d2gN5y35ydRO5\",\n \"db_type\": \"mariadb\"\n}\n```", "content_type": "mixed", "has_code": true, "token_count": 301}
{"chunk_id": "01_getting_started__tutorial__create-a-site__003", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-a-site", "title": "Create A Site", "section_heading": "Access site in your browser", "content": "## Access site in your browser\n\n`bench` allows you to create multiple sites and access them separately in the browser on the same port. This is what we call multi-tenancy support in bench.\n\nFrappe will identify which site to serve by matching the hostname of the request with the site name, so you should be able to access your site on http://library.test:8000 but this won't work because we have to tell our operating system that library.test should point to localhost. To do that, you can add the following entry to your `/etc/hosts` file.\n\n```python\n127.0.0.1 library.test\n```\n\nThis will map `library.test` to `localhost`. Bench has a convenient command to do just that.\n\n```python\n$ bench --site library.test add-to-hosts\n```\n\nThis will ask for your root password and will add an entry to your `/etc/hosts` file.\n\n![Site Login Page](/files/site-login-page.png)\n\nGreat, now you can access your site at http://library.test:8000. Congratulations for making it this far.", "content_type": "mixed", "has_code": true, "token_count": 242}
{"chunk_id": "01_getting_started__tutorial__create-a-site__004", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-a-site", "title": "Create A Site", "section_heading": "Install app on site", "content": "## Install app on site\n\nTo install our Library Management app on our site, run the following command:\n\n```python\n$ bench --site library.test install-app library_management\n\nInstalling library_management...\n```\n\nTo confirm if the app was installed, run the following command:\n\n```python\n$ bench --site library.test list-apps\nfrappe\nlibrary_management\n```\n\nYou should see `frappe` and `library_management` as installed apps on your site.\n\n> When you create a new site, the `frappe` app is installed by default.\n\n### Login to Desk\n\nTo create DocTypes in our app, we must log in to Desk. Go to http://library.test:8000 and it should show you a login page.\n\nEnter Administrator as the user and password that you set while creating the site.\n\n![Setup Wizard](/files/setup-wizard.png)\n\nAfter successful login, you will see the setup wizard. This is a one-time setup wizard used to set up localization details for your site. Go ahead, select your language, and complete the wizard.\n\nGood job making it this far!\n\nYou should see the Desk that looks something like this:\n\n![Desk](/files/desk.png)", "content_type": "mixed", "has_code": true, "token_count": 271}
{"chunk_id": "01_getting_started__tutorial__create-a-site__005", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-a-site", "title": "Create A Site", "section_heading": "Site commands", "content": "## Site commands\n\nWe ran a couple of bench commands with the `--site` option. These commands are called site commands.\n\nHere are some of the useful site commands.\n\n**Python Console**\n\n```python\n# access the python console\n$ bench --site library.test console\nApps in this namespace:\nfrappe, library_management\n\nIn [1]:\n```\n\n**MariaDB Console**\n\n```python\n# access the mariadb console\n$ bench --site library.test mariadb\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 2333498\nServer version: 10.4.13-MariaDB Homebrew\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [_ad03fa1a016ca1c4]>\n```\n\n**Database Backup**\n\n```python\n$ bench --site library.test backup\nBackup Summary for library.test at 2020-10-06 23:21:17.277960\nConfig  : ./library.test/private/backups/20201006_232116-library_test-site_config_backup.json   94.0B\nDatabase: ./library.test/private/backups/20201006_232116-library_test-database.sql.gz           217.4KiB\nBackup for Site library.test has been successfully completed\n```\n\nYou can see a list of all site commands by running the following command:\n\n```python\n$ bench --help\nUsage: bench frappe [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --site TEXT\n  --profile    Profile\n  --verbose    Verbose\n  --force      Force\n  --help       Show this message and exit.\n\nCommands:\n  add-system-manager          Add a new system manager to a site\n  add-to-email-queue          Add an email to the Email Queue\n  add-to-hosts                Add site to hosts\n  backup                      Backup\n  browse                      Opens the site on web browser\n  build                       Minify + concatenate JS and CSS files, build...\n  build-message-files         Build message files for translation\n  build-search-index\n  bulk-rename                 Rename multiple records via CSV file\n  clear-cache                 Clear cache, doctype cache and defaults\n  clear-website-cache         Clear website cache\n  console                     Start ipython console for a site\n  data-import                 Import documents in bulk from CSV or XLSX...\n  destroy-all-sessions        Clear sessions of all users (logs them out)\n```\n\nNext: [Create a DocType](/framework/v14/user/en/tutorial/create-a-doctype)", "content_type": "mixed", "has_code": true, "token_count": 588}
{"chunk_id": "01_getting_started__tutorial__create-a-doctype__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-a-doctype", "title": "Create A Doctype", "section_heading": "Enable Developer Mode", "content": "## Enable Developer Mode\n\nDocType is analogous to a Model in other frameworks. Apart from defining\nproperties, it also defines the behavior of the Model.\n\n### Enable Developer Mode\n\nBefore we can create DocTypes, we need to enable developer mode on our bench. This\nwill enable boilerplate creation when we create doctypes and we can track them into\nversion control with our app.\n\nGo to your terminal and quit the bench server if it's already running then from the `frappe-bench` directory, run the following command:\n\n```python\n$ bench set-config -g developer_mode true\n$ bench start\n```\n\n### Creating a DocType\n\nWhile in Desk, navigate to the **DocType List** using the [Awesomebar](/framework/v14/user/en/desk#awesomebar). This list will include DocTypes bundled with the framework, those that are a part of the installed Frappe apps and custom ones, which you can create specific to each site.\n\nThe first doctype we will create is **Article**. To create it, click on New.\n\n1. Enter Name as Article\n2. Select Library Management in Module\n3. Add the following fields in the Fields table:\n4. Article Name (Data, Mandatory)\n5. Image (Attach Image)\n6. Author (Data)\n7. Description (Text Editor)\n8. ISBN (Data)\n9. Status (Select) - Enter two options: Issued and Available (Type Issued, hit enter, then type Available)\n10. Publisher (Data)\n\nRefer the following GIF to check how it should be done:\n\n![Article DocType](/files/article-doctype.gif)\n\nAfter adding the fields, click on Save.\n\nYou will see a **Go to Article List** button at the top right of the form. Click\non it to go to the Article List. Here you will see a blank list with no records\nbecause the table has no records.\n\nLet's create some records. But before that, we need to clear the Desk cache.\nClick on the **Settings** dropdown on the right side of the navbar and click on\n**Reload**.\n\nNow, you should see the **New** button. Click on it and you will see the Form\nview of the Article doctype. Fill in the form and click on Save. You have\ncreated your first Article document. Go back to the list view and you should see\none record.\n\n![Article New Form](/files/article-new-form.gif)", "content_type": "mixed", "has_code": true, "token_count": 535}
{"chunk_id": "01_getting_started__tutorial__create-a-doctype__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-a-doctype", "title": "Create A Doctype", "section_heading": "What happened when you created the Article DocType?", "content": "## What happened when you created the Article DocType?\n\n**1. Database Table**\n\nA database table with the name `tabArticle` was created with the fields we\nspecified in the fields table. You can confirm this by checking it from the\nMariaDB console\n\n```python\n$ bench --site library.test mariadb\nWelcome to the MariaDB monitor. Commands end with ; or \\g.\nYour MariaDB connection id is 2445938\nServer version: 10.4.13-MariaDB Homebrew\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [_ad03fa1a016ca1c4]> desc tabArticle;\n+--------------+--------------+------+-----+-----------+-------+\n| Field | Type | Null | Key | Default | Extra |\n+--------------+--------------+------+-----+-----------+-------+\n| name | varchar(140) | NO | PRI | NULL | |\n| creation | datetime(6) | YES | | NULL | |\n| modified | datetime(6) | YES | MUL | NULL | |\n| modified_by | varchar(140) | YES | | NULL | |\n| owner | varchar(140) | YES | | NULL | |\n| docstatus | int(1) | NO | | 0 | |\n| parent | varchar(140) | YES | MUL | NULL | |\n| parentfield | varchar(140) | YES | | NULL | |\n| parenttype | varchar(140) | YES | | NULL | |\n| idx | int(8) | NO | | 0 | |\n| article_name | varchar(140) | YES | | NULL | |\n| image | text | YES | | NULL | |\n| author | varchar(140) | YES | | NULL | |\n| description | longtext | YES | | NULL | |\n| isbn | varchar(140) | YES | | NULL | |\n| status | varchar(140) | YES | | Available | |\n| publisher | varchar(140) | YES | | NULL | |\n| _user_tags | text | YES | | NULL | |\n| _comments | text | YES | | NULL | |\n| _assign | text | YES | | NULL | |\n| _liked_by | text | YES | | NULL | |\n+--------------+--------------+------+-----+-----------+-------+\n21 rows in set (0.002 sec)\n\nMariaDB [_ad03fa1a016ca1c4]>\n```\n\nThe fields we specified in Title Case were converted to snake case\nautomatically, and are used as the column names in the table. For e.g.,\n`article_name`, `image`, `author` , and `description`.\n\nHowever, many other fields were created like `name`, `creation`, `modified`,\n`modified_by` . These are standard fields created for all doctypes. `name` is\nthe primary key column.\n\nIf you created a record with the Form, you can also run a standard select query\nto get the rows.", "content_type": "mixed", "has_code": true, "token_count": 573}
{"chunk_id": "01_getting_started__tutorial__create-a-doctype__003", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-a-doctype", "title": "Create A Doctype", "section_heading": "What happened when you created the Article DocType?", "content": "## What happened when you created the Article DocType?\n\nThe fields we specified in Title Case were converted to snake case\nautomatically, and are used as the column names in the table. For e.g.,\n`article_name`, `image`, `author` , and `description`.\n\nHowever, many other fields were created like `name`, `creation`, `modified`,\n`modified_by` . These are standard fields created for all doctypes. `name` is\nthe primary key column.\n\nIf you created a record with the Form, you can also run a standard select query\nto get the rows.\n\n```python\nMariaDB [_ad03fa1a016ca1c4]> select * from tabArticle;\n+------------+----------------------------+----------------------------+---------------+---------------+-----------+--------+-------------+------------+-----+-----------------------------+--\n| name | creation | modified | modified_by | owner | docstatus | parent | parentfield | parenttype | idx | article_name | i\n+------------+----------------------------+----------------------------+---------------+---------------+-----------+--------+-------------+------------+-----+-----------------------------+--\n| bd514646b9 | 2020-10-10 16:24:43.033457 | 2020-10-10 16:24:43.033457 | Administrator | Administrator | 0 | NULL | NULL | NULL | 0 | The Girl with all the Gifts | N\n+------------+----------------------------+----------------------------+---------------+---------------+-----------+--------+-------------+------------+-----+-----------------------------+--\n\nMariaDB [_ad03fa1a016ca1c4]>\n```\n\n**2. Desk Views**\n\nThere are a number of views that were also created for our DocType. The Article\nList is the list view that shows the records from the database table. The Form\nview is the view that is shown when you want to create a new document or view an\nexisting one.\n\n**3. Form Layout**\n\nIf you notice, the layout of fields in the form is according to how you ordered\nthem in the Fields table. For e.g., Article Name is the first field followed by\nImage which is followed by Author. In later parts of the tutorial we will learn\nhow to customize this further.\n\n**4. Boilerplate code**\n\n---\n\n**NOTE**\n\nMake sure you uncheck the 'Custom?' checkbox in the doctype configuration. Otherwise the files discussed below won't be generated. An explaination for this is given [here](https://discuss.erpnext.com/t/whats-the-difference-between-customize-form-vs-custom-doctype/42676/2)\n\n---\n\nIf you look at the changes in your app, you should find a number of files that\nwere created. Go to your terminal and from the `frappe-bench` directory run the\nfollowing commands.\n\n```python\n$ cd apps/library_management\n$ git status -u\nOn branch master\nUntracked files:\n (use \"git add <file>...\" to include in what will be committed)\n library_management/library_management/doctype/__init__.py\n library_management/library_management/doctype/article/__init__.py\n library_management/library_management/doctype/article/article.js\n library_management/library_management/doctype/article/article.json\n library_management/library_management/doctype/article/article.py\n library_management/library_management/doctype/article/test_article.py\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n```", "content_type": "mixed", "has_code": true, "token_count": 797}
{"chunk_id": "01_getting_started__tutorial__create-a-doctype__004", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/create-a-doctype", "title": "Create A Doctype", "section_heading": "What happened when you created the Article DocType?", "content": "## What happened when you created the Article DocType?\n\n**article.json** - JSON file that defines the doctype attributes\n\n**article.js** - Client-side controller for the Form view\n\n**article.py** - Python controller for Article\n\n**test\\_article.py** - Python Unit Test boilerplate for writing tests\n\nAs you can see, a DocType describes a lot of things about the model. Not only\ndoes it define the table and column names but also how it will be rendered in\nvarious views in the Desk.\n\nGood job following the tutorial so far. Let's keep going!\n\nNext: [DocType Features](/framework/v14/user/en/tutorial/doctype-features)", "content_type": "prose", "has_code": false, "token_count": 154}
{"chunk_id": "01_getting_started__tutorial__doctype-features__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/doctype-features", "title": "Doctype Features", "section_heading": "Naming", "content": "## Naming\n\nIn the previous chapter, we created the Article doctype. Let's see what other features we can customize.\n\n### Naming\n\nIf you created a document with the Form, you might have noticed that the `name` value of the document was a randomly generated hash. Let's make a change so that the Article Name we provide becomes the `name` of the document.\n\nTo do that, open the doctype list from the search bar and click on Article. Now, scroll down to the Naming section and in the Auto Name field enter **field:article\\\\_name**. Click on Save.\n\nNow, go back to the Article List and create a new article again.\n\n![](/files/nTqBymM.gif)\n\nNow, the **name** of the document will be the Article Name and it must be unique across Articles. So you cannot create another article with the same name.\n\nYou can also check the database records by running a select query in the mariadb console.\n\n```python\nMariaDB \\[\\_ad03fa1a016ca1c4\\]> select * from tabArticle;\n\n| ------------ | ---------------------------- | ---------------------------- | --------------- | --------------- | ----------- | -------- | ------- |\n| name | creation | modified | modified\\_by | owner | docstatus | parent | parent\n| ------------ | ---------------------------- | ---------------------------- | --------------- | --------------- | ----------- | -------- | ------- |\n| bd514646b9 | 2020-10-10 16:24:43.033457 | 2020-10-10 16:24:43.033457 | Administrator | Administrator | 0 | NULL | NULL\n| Catch 22 | 2020-10-10 16:41:49.734499 | 2020-10-10 16:41:49.734499 | Administrator | Administrator | 0 | NULL | NULL\n| ------------ | ---------------------------- | ---------------------------- | --------------- | --------------- | ----------- | -------- | ------- |\n```\n\n> Learn more about various types of [DocType Naming](/framework/v14/user/en/basics/doctypes/naming).", "content_type": "mixed", "has_code": true, "token_count": 457}
{"chunk_id": "01_getting_started__tutorial__doctype-features__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/doctype-features", "title": "Doctype Features", "section_heading": "Form Layout", "content": "## Form Layout\n\nLet's customize the layout of how the fields are laid out in the form while making good use of the available space. Go to the Article doctype, scroll to the Fields section, and add two new fields of type **Column Break** and **Section Break**. We will also hide the Image field as it is not needed to be shown in the form. Check out the GIF to see it in action.\n\n![](/files/XqlAtTg.gif)\n\nForm Settings\n\nGo to the Article doctype and scroll down to the **Form Settings** section. Enter **image** in the Image Field. This will show the image at the left top of the form. You can also enable **Allow Rename** to allow renaming of documents.\n\n![](/files/QRZDdTG.gif)\n\n### Permissions\n\nYou can also configure what roles you want to allow and which actions you want to restrict for a DocType. Go to the Article doctype, scroll down to the **Permission Rules** section, and add the roles.\n\nYou can also configure the type of action that is allowed for a particular role. Let's add a **Librarian** role that has permission for all actions and a **Library Member** role that has permission for **Read** action.\n\n![](/files/UOan9ER.gif)\n\nYou can test this by creating a new User that has the **Librarian** role, and another User that has the **Library Member** role. Login with each user, and see what actions are allowed.\n\nNext: [Controller Methods](/framework/v14/user/en/tutorial/controller-methods)", "content_type": "prose", "has_code": false, "token_count": 352}
{"chunk_id": "01_getting_started__tutorial__controller-methods__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/controller-methods", "title": "Controller Methods", "section_heading": "", "content": "Controller methods allow you to write business logic during the lifecycle of a document.\n\nLet's create our second doctype: **Library Member**. It will have the following fields:\n\n1. First Name (Data, Mandatory)\n2. Last Name (Data)\n3. Full Name (Data, Read Only)\n4. Email Address (Data)\n5. Phone (Data)\n\n![](/files/TqEJOjO.gif)\n\nAfter you have created the doctype, go to Library Member list, clear the cache from **Settings > Reload** and create a new Library Member.\n\nIf you notice, the Full Name field is not shown in the form. This is because we set it as Read Only. It will be shown only when it has some value.\n\nLet's write code in our python controller class such that Full Name is computed automatically from First Name and Last Name.\n\nOpen your code editor and open the file `library_member.py` and make the following changes:\n\n**library\\\\_member.py**\n\n```python\nclass LibraryMember(Document):\n #this method will run every time a document is saved\n def before_save(self):\n self.full_name = f'{self.first_name} {self.last_name or \"\"}'\n```\n\n---\n\n**NOTE**\n\nIf the above snippet doesn't work for you , make sure server side scripts are enabled, and then restart bench\n\n```python\nbench --site <your_site> set-config server_script_enabled true\n```\n\n---\n\nWe wrote the logic in the `before_save` method which runs every time a document is saved. This is one of the many hooks provided by the `Document` class. You can learn more about all the available hooks at [Controller](/framework/v14/user/en/basics/doctypes/controllers) docs.\n\nNow, go back and create another Library Member and see the Full Name show up after save.\n\nNext: [Types of DocType](/framework/v14/user/en/tutorial/types-of-doctype)</your\\_site>", "content_type": "mixed", "has_code": true, "token_count": 427}
{"chunk_id": "01_getting_started__tutorial__types-of-doctype__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/types-of-doctype", "title": "Types Of Doctype", "section_heading": "Library Membership", "content": "## Library Membership\n\nLet's learn about the different types of doctype in the framework by creating\nmore doctypes.\n\n### Library Membership\n\nLet's create another doctype: **Library Membership**. It will have the following\nfields:\n\n1. Library Member (Link, Mandatory)\n2. Full Name (Data, Read Only)\n3. From Date (Date)\n4. To Date (Date)\n5. Paid (Check)\n\nIt will have **Is Submittable** enabled. It will have Naming set as\n**LMS.#####** and restricted to **Librarian** role. Also, the Title Field should\nbe set to `full_name` in the View Settings section.\n\n![Library Membership DocType](/files/library-membership-doctype.gif)\n\nThe Link field **Library Member** is similar to a Foreign Key column in other\nframeworks. It will let you link the value to a record in another DocType. In\nthis case, it links to a record of Library Member DocType.\n\nThe Full Name field is a Read Only field that will be automatically **fetched\nfrom** from the `full_name` field in the linked record **Library Member**.\n\nNow, go to the Library Membership list and create a new document. You will see\nthat the Library Member field is a dropdown with existing records shown as\noptions. Select a Library Member and the Full Name will be fetched\nautomatically. Pretty cool, right?\n\n### Linked DocTypes\n\nLinked DocTypes are DocTypes that are linked in other doctypes as Link fields.\nAll doctypes are linkable. We can classify doctypes broadly into Master and\nTransactional based on the type of data they store. Article, Library Member are\nexamples of Master data because they represent an entity (physical or virtual).\nLibrary Membership is an example of doctype which stores transactional data.", "content_type": "prose", "has_code": false, "token_count": 416}
{"chunk_id": "01_getting_started__tutorial__types-of-doctype__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/types-of-doctype", "title": "Types Of Doctype", "section_heading": "Submittable DocTypes", "content": "## Submittable DocTypes\n\nWhen you enable **Is Submittable** in a DocType is becomes a Submittable\nDocType. A Submittable doctype can have 3 states: **Draft**, **Submitted** and\n**Cancelled**. A document in the **Draft** state can be changed like any\ndocument, however once it is in **Submitted** state, the value of any field in\nthe document cannot be changed. A Submitted document can be **Cancelled**, which\nmakes the document invalid. If you notice, an extra field was added in our\nLibrary Membership doctype called **Amended From**. This field is used to keep\ntrack of amendments in documents. Once a document is Cancelled, it can only be\namended, which means it can be duplicated and the cancelled document will be\nlinked to the new amended document via the **Amended From** field.\n\n### Controller Validation for Membership\n\nNow, let's write code that will make sure whenever a Library Membership is\ncreated, there is no active membership for the Member.\n\n**library\\_membership.py**\n\n```python\nimport frappe\nfrom frappe.model.document import Document\nfrom frappe.model.docstatus import DocStatus\n\nclass LibraryMembership(Document):\n # check before submitting this document\n def before_submit(self):\n exists = frappe.db.exists(\n \"Library Membership\",\n {\n \"library_member\": self.library_member,\n \"docstatus\": DocStatus.submitted(),\n # check if the membership's end date is later than this membership's start date\n \"to_date\": (\">\", self.from_date),\n },\n )\n if exists:\n frappe.throw(\"There is an active membership for this member\")\n```\n\nWe wrote our logic in the `before_submit` method which will run before we submit\nthe document. We used the `frappe.db.exists` method to check if a Library\nMembership record exists with our provided filters. If it exists, we used\n`frappe.throw` to stop the execution of program with a message that will show up\nletting the user know the reason.\n\nNow, try creating a Library Membership with an overlapping period and you should\nsee an error when you submit the document.\n\n![Library Membership Validation](/files/library-membership-validation.png)", "content_type": "mixed", "has_code": true, "token_count": 520}
{"chunk_id": "01_getting_started__tutorial__types-of-doctype__003", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/types-of-doctype", "title": "Types Of Doctype", "section_heading": "Library Transaction", "content": "## Library Transaction\n\nLet's create a DocType to record an Issue or Return of an Article by a Library\nMember who has an active membership.\n\nThis doctype will be called **Library Transaction** and will have the following\nfields:\n\n1. Article - Link to Article\n2. Library Member - Link to Library Member\n3. Type - Select with 2 options: Issue and Return\n4. Date - Date of Transaction\n\nThis doctype will also be a Submittable doctype.\n\n![Library Transaction Doctype](/files/library-transaction-doctype.gif)\n\n### Validation for Transaction\n\nWhen an Article is issued, we should verify whether the Library Member has an\nactive membership. We should also check whether the Article is available for\nIssue. Let's write the code for these validations.\n\n**library\\_transaction.py**\n\n```python\nimport frappe\nfrom frappe.model.document import Document\nfrom frappe.model.docstatus import DocStatus\n\nclass LibraryTransaction(Document):\n def before_submit(self):\n if self.type == \"Issue\":\n self.validate_issue()\n # set the article status to be Issued\n article = frappe.get_doc(\"Article\", self.article)\n article.status = \"Issued\"\n article.save()\n\n elif self.type == \"Return\":\n self.validate_return()\n # set the article status to be Available\n article = frappe.get_doc(\"Article\", self.article)\n article.status = \"Available\"\n article.save()\n\n def validate_issue(self):\n self.validate_membership()\n article = frappe.get_doc(\"Article\", self.article)\n # article cannot be issued if it is already issued\n if article.status == \"Issued\":\n frappe.throw(\"Article is already issued by another member\")\n\n def validate_return(self):\n article = frappe.get_doc(\"Article\", self.article)\n # article cannot be returned if it is not issued first\n if article.status == \"Available\":\n frappe.throw(\"Article cannot be returned without being issued first\")\n\n def validate_membership(self):\n # check if a valid membership exist for this library member\n valid_membership = frappe.db.exists(\n \"Library Membership\",\n {\n \"library_member\": self.library_member,\n \"docstatus\": DocStatus.submitted(),\n \"from_date\": (\"<\", self.date),\n \"to_date\": (\">\", self.date),\n },\n )\n if not valid_membership:\n frappe.throw(\"The member does not have a valid membership\")\n```\n\nThere is a lot of code here but it should be self explanatory. There are inline\ncode comments for more explanation.", "content_type": "mixed", "has_code": true, "token_count": 582}
{"chunk_id": "01_getting_started__tutorial__types-of-doctype__004", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/types-of-doctype", "title": "Types Of Doctype", "section_heading": "Library Settings", "content": "## Library Settings\n\nLet's create the last doctype for our app: **Library Settings**. It will have\nthe following fields:\n\n1. Loan Period - Will define the loan period in number of days\n2. Maximum Number of Issued Articles - Restrict the maximum number of articles that can be issued by a single member\n\nSince we don't need to have multiple records for these settings, we will enable\n**Is Single** for this doctype.\n\n![Library Settings Doctype](/files/library-settings-doctype.gif)\n\nAfter creating the doctype, click on **Go to Library Settings**, to go to the\nform and set the values for **Loan Period** and **Maximum Number of Issued\nArticles**.\n\n### Single DocTypes\n\nWhen a DocType has **Is Single** enabled, it will become a Single DocType. A\nsingle doctype is similar to singleton records in other frameworks. It does not\ncreate a new database table. Instead all single values are stored in a single\ntable called `tabSingles`. It is used usually for storing global settings.", "content_type": "prose", "has_code": false, "token_count": 244}
{"chunk_id": "01_getting_started__tutorial__types-of-doctype__005", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/types-of-doctype", "title": "Types Of Doctype", "section_heading": "Validation for Library Settings", "content": "## Validation for Library Settings\n\nLet's make the change in Library Membership such that, the To Date automatically\ncomputed based on the Loan Period and the From Date.\n\n**library\\_membership.py**\n\n```python\nimport frappe\nfrom frappe.model.document import Document\nfrom frappe.model.docstatus import DocStatus\n\nclass LibraryMembership(Document):\n # check before submitting this document\n def before_submit(self):\n exists = frappe.db.exists(\n \"Library Membership\",\n {\n \"library_member\": self.library_member,\n \"docstatus\": DocStatus.submitted(),\n # check if the membership's end date is later than this membership's start date\n \"to_date\": (\">\", self.from_date),\n },\n )\n if exists:\n frappe.throw(\"There is an active membership for this member\")\n\n # get loan period and compute to_date by adding loan_period to from_date\n loan_period = frappe.db.get_single_value(\"Library Settings\", \"loan_period\")\n self.to_date = frappe.utils.add_days(self.from_date, loan_period or 30)\n```\n\nWe have used `frappe.db.get_single_value` method to get the value of\n`loan_period` from the Library Settings doctype.\n\nNow, let's make the change in Library Transaction such that when an Article is\nIssued, it checks whether the maximum limit is reached.\n\n**library\\_transaction.py**\n\n```python\nimport frappe\nfrom frappe.model.document import Document\nfrom frappe.model.docstatus import DocStatus\n\nclass LibraryTransaction(Document):\n def before_submit(self):\n if self.type == \"Issue\":\n self.validate_issue()\n self.validate_maximum_limit()\n # set the article status to be Issued\n article = frappe.get_doc(\"Article\", self.article)\n article.status = \"Issued\"\n article.save()\n\n elif self.type == \"Return\":\n self.validate_return()\n # set the article status to be Available\n article = frappe.get_doc(\"Article\", self.article)\n article.status = \"Available\"\n article.save()\n\n def validate_issue(self):\n self.validate_membership()\n article = frappe.get_doc(\"Article\", self.article)\n # article cannot be issued if it is already issued\n if article.status == \"Issued\":\n frappe.throw(\"Article is already issued by another member\")\n\n def validate_return(self):\n article = frappe.get_doc(\"Article\", self.article)\n # article cannot be returned if it is not issued first\n if article.status == \"Available\":\n frappe.throw(\"Article cannot be returned without being issued first\")\n\n def validate_maximum_limit(self):\n max_articles = frappe.db.get_single_value(\"Library Settings\", \"max_articles\")\n count = frappe.db.count(\n \"Library Transaction\",\n {\"library_member\": self.library_member, \"type\": \"Issue\", \"docstatus\": DocStatus.submitted()},\n )\n if count >= max_articles:\n frappe.throw(\"Maximum limit reached for issuing articles\")\n\n def validate_membership(self):\n # check if a valid membership exist for this library member\n valid_membership = frappe.db.exists(\n \"Library Membership\",\n {\n \"library_member\": self.library_member,\n \"docstatus\": DocStatus.submitted(),\n \"from_date\": (\"<\", self.date),\n \"to_date\": (\">\", self.date),\n },\n )\n if not valid_membership:\n frappe.throw(\"The member does not have a valid membership\")\n```", "content_type": "mixed", "has_code": true, "token_count": 769}
{"chunk_id": "01_getting_started__tutorial__types-of-doctype__006", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/types-of-doctype", "title": "Types Of Doctype", "section_heading": "Validation for Library Settings", "content": "## Validation for Library Settings\n\nWe added a `validate_maximum_limit` method and used `frappe.db.count` to count\nthe number of transactions made by the member.\n\nWith that, we have covered the basics of doctype creation and types of doctype.\nWe also wrote business logic for various doctypes.\n\nGood job making it this far. Let's keep going.\n\nNext: [Form Scripts](/framework/v14/user/en/tutorial/form-scripts)", "content_type": "prose", "has_code": false, "token_count": 102}
{"chunk_id": "01_getting_started__tutorial__form-scripts__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/form-scripts", "title": "Form Scripts", "section_heading": "", "content": "Form Scripts are client-side javascript code that enhances the UX of your Forms.\n\nLet's say you want to create a membership for a member. To do this, you have to\ngo to the Library Membership list, create a new form, select the member and\nother fields and then save.\n\nSimilarly, when you want to create a transaction against a member, you have to\nmake a new Library Transaction form.\n\nWe can make this process easier. Write the following code in **library\\_member.js**\n\n```python\nfrappe.ui.form.on('Library Member', {\n refresh: function(frm) {\n frm.add_custom_button('Create Membership', () => {\n frappe.new_doc('Library Membership', {\n library_member: frm.doc.name\n })\n })\n frm.add_custom_button('Create Transaction', () => {\n frappe.new_doc('Library Transaction', {\n library_member: frm.doc.name\n })\n })\n }\n});\n```\n\nNow, refresh your page and go to the Library Member form. You should see two buttons\non the top right. Click on them to try them out. They will automatically set the\nLibrary Member in each of those documents making the process easier.\n\n![Library Member Form Actions](/files/library-member-form-actions.png)\n\nWe have only scratched the surface here. You can do a lot more with Form\nScripts. Learn more about the API at [Form Scripts\nAPI](/framework/v14/user/en/api/form).\n\nNext: [Portal Pages](/framework/v14/user/en/tutorial/portal-pages)", "content_type": "mixed", "has_code": true, "token_count": 338}
{"chunk_id": "01_getting_started__tutorial__portal-pages__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/portal-pages", "title": "Portal Pages", "section_heading": "", "content": "Web View Pages are server rendered pages for your website visitors.\n\nWe have been exclusively working with the Desk which is the admin interface accessible by System Users. Usually you will want to give limited access to your customers. In our case, we want Library Members to be able to view available Articles that they can issue from our website. Web View Pages can help us achieve that.\n\nGo to Article doctype, and scroll down to the Web View section.\n\n1. Enable **Has Web View** and **Allow Guest to View**\n2. Enter **articles** in the Route field\n3. Add fields named **Route** and **Published** in the fields table\n4. Click on Save\n\nThe published field will help filter out those documents which are not supposed to be shown in web view, otherwise you will run into an error.\n\n![](/files/148695460-d90b4b4f-1bf5-44cb-939c-a620786dc777.png)\n\n![](/files/148695486-f4674a7b-2d6f-42ab-a279-b17342d75e9b.png)\n\nWe have now enabled web views for Article doctype. This means you can now view details of an Article on your website without logging into Desk. Let's test this out by creating a new Article. You should see **See on Website** at the top left of your form. Click on it to view the web view of the Article.", "content_type": "prose", "has_code": false, "token_count": 303}
{"chunk_id": "01_getting_started__tutorial__portal-pages__002", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/portal-pages", "title": "Portal Pages", "section_heading": "Customize Web View Template", "content": "## Customize Web View Template\n\nThe default web view that is generated is pretty barebones and serves only as a starting point for us to customize it. When we made Article a web view, two HTML files were created namely: `article.html` and `article_row.html`\n\nLet's edit **article.html** first. Frappe uses Bootstrap 4 by default for it's web views. So, you can use any valid Bootstrap 4 markup to style your pages. Add the following HTML to **article.html**.\n\n```python\n{% extends \"templates/web.html\" %}\n\n{% block page_content %}\n\n![]()\n\n===========\n\nBy \n\n \n {%- if status == 'Available' -%}\n \n Available\n {%- elif status == 'Issued' -%}\n \n Issued\n \n {%- endif -%}\n \n \n\nPublisher: ****\nISBN: ****\n\n{% endblock %}\n```\n\nNow, go to any Article and click on **See on Website**. If you have filled in all fields of your Article, you should see a page like this:\n\n![Article Portal Page](/files/article-portal-page.png)\n\nNow, open http://library.test:8000/articles. This should show the list of articles, but it is also pretty barebones. Let's customize the HTML.\n\nEdit the **article\\\\_row.html** and add the following HTML:\n\n```python\n![]()\n\n[]()\nBy \n```\n\nNow, the articles list should look prettier. You can click on any article to view it's details.\n\n![Articles Portal Page](/files/articles-portal-page.png)\n\nGood job on following the tutorial so far.\n\nNext: [What's Next](/framework/v14/user/en/tutorial/whats-next)", "content_type": "mixed", "has_code": true, "token_count": 353}
{"chunk_id": "01_getting_started__tutorial__whats-next__001", "module": "01_getting_started", "source_url": "https://docs.frappe.io/framework/v15/user/en/tutorial/whats-next", "title": "Whats Next", "section_heading": "Need Help?", "content": "## Need Help?\n\nThe goal of this tutorial was to give an introduction to the various parts of\nthe framework. We have only scratched the surface here. Frappe Framework has a\nlot more features that have enabled us to build complex software such as\nERPNext.\n\nYou can deep dive into topics by going through the rest of the documentation.\nHere are some topics to get you started:\n\n1. [Architecture](/framework/v14/user/en/basics/architecture)\n2. [DocType](/framework/v14/user/en/basics/doctypes)\n3. [Document API](/framework/v14/user/en/api/document)\n4. [Form API](/framework/v14/user/en/api/form)\n5. [Bench CLI](/framework/v14/user/en/bench)\n\n### Need Help?\n\nYou can ask for help on our public forum: [discuss.erpnext.com](https://discuss.erpnext.com)", "content_type": "prose", "has_code": false, "token_count": 186}
